{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/lib/utils.js"],"sourcesContent":["import { clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs))\n}\n\nexport const formatDate = (date) => {\n  const now = new Date();\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n  date = new Date(date);\n\n  if (date >= today) {\n    return 'Today';\n  } else if (date >= yesterday) {\n    return 'Yesterday';\n  } else {\n    return date.toLocaleDateString('en-US', {\n      weekday: 'short',\n      day: 'numeric',\n      month: 'short'\n    });\n  }\n}; "],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAM;IAC1B,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,MAAM,aAAa,CAAC;IACzB,MAAM,MAAM,IAAI;IAChB,MAAM,QAAQ,IAAI,KAAK,IAAI,WAAW,IAAI,IAAI,QAAQ,IAAI,IAAI,OAAO;IACrE,MAAM,YAAY,IAAI,KAAK;IAC3B,UAAU,OAAO,CAAC,UAAU,OAAO,KAAK;IACxC,OAAO,IAAI,KAAK;IAEhB,IAAI,QAAQ,OAAO;QACjB,OAAO;IACT,OAAO,IAAI,QAAQ,WAAW;QAC5B,OAAO;IACT,OAAO;QACL,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,SAAS;YACT,KAAK;YACL,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/TimelineRail.jsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../lib/utils';\n\n// Helper to find the first note ID for a given date\nconst getNoteIdForDate = (notes, year, month, day) => {\n    const note = notes.find(n => {\n        const d = new Date(n.createdAt);\n        return d.getFullYear() === year && d.getMonth() === month && d.getDate() === day;\n    });\n    return note ? note.id : null;\n};\n\nexport const TimelineRail = ({ notes, activeNoteId, tags, onTagClick }) => {\n    // Group notes by sorted keys to render in order\n    // But we don't display the group headers anymore.\n    // Flatten dates into a sorted array for the sliding window\n    // Flatten dates into a sorted array for the sliding window\n    // We compute this directly from the notes prop now, skipping the intermediate 'groupedDates' object\n    const allDates = React.useMemo(() => {\n        const uniqueDates = new Set();\n        const flat = [];\n\n        // 1. Extract unique dates\n        notes.forEach(note => {\n            const d = new Date(note.createdAt);\n            const key = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\n            if (!uniqueDates.has(key)) {\n                uniqueDates.add(key);\n                flat.push({\n                    year: d.getFullYear(),\n                    month: d.getMonth(),\n                    day: d.getDate(),\n                    key: key\n                });\n            }\n        });\n\n        // 2. Sort them broadly by time (Oldest -> Newest)\n        return flat.sort((a, b) => {\n            const dateA = new Date(a.year, a.month, a.day);\n            const dateB = new Date(b.year, b.month, b.day);\n            return dateA - dateB;\n        });\n    }, [notes]);\n\n    // Added activeDateKey back for window calculation\n    const activeDateKey = React.useMemo(() => {\n        if (!activeNoteId) return null;\n        const note = notes.find(n => n.id === activeNoteId);\n        if (!note) return null;\n        const d = new Date(note.createdAt);\n        return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\n    }, [activeNoteId, notes]);\n\n    // Calculate Sliding Window (Limit to 25 items, centered on active date)\n    const windowedDates = React.useMemo(() => {\n        if (!activeDateKey || allDates.length <= 25) return allDates;\n\n        const activeIndex = allDates.findIndex(d => d.key === activeDateKey);\n        if (activeIndex === -1) return allDates.slice(0, 25); // Fallback to start\n\n        // Center the window: activeIndex is in the middle (~12th item)\n        let start = activeIndex - 12;\n        let end = activeIndex + 13; // Total 25\n\n        // Clamp bounds\n        if (start < 0) {\n            start = 0;\n            end = 25;\n        }\n        if (end > allDates.length) {\n            end = allDates.length;\n            start = Math.max(0, end - 25);\n        }\n\n        return allDates.slice(start, end);\n    }, [allDates, activeDateKey]);\n\n\n    const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    return (\n        // Adjusted vertical constraints to avoid overlapping Logo (Top) and Avatar/Toggle (Bottom)\n        <div className=\"fixed left-8 top-24 bottom-32 w-24 z-40 hidden sm:flex flex-col justify-center pointer-events-none\">\n            {/* Inner container for scrolling if needed, max height constraint */}\n            <div className=\"max-h-full overflow-y-auto no-scrollbar py-4 flex flex-col items-center\">\n                <div className=\"flex flex-col gap-1 w-full px-2\">\n                    {windowedDates.map(({ year, month, day, key }) => {\n                        const isSameDate = activeDateKey === key;\n                        const handleDateClick = () => {\n                            const noteId = getNoteIdForDate(notes, parseInt(year), parseInt(month), day);\n                            if (noteId) {\n                                const element = document.getElementById(noteId);\n                                if (element) {\n                                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                                }\n                            }\n                        };\n\n                        return (\n                            <div\n                                key={key}\n                                onClick={handleDateClick}\n                                className=\"group flex items-center justify-start w-full gap-3 h-3 cursor-pointer pointer-events-auto\"\n                            >\n                                {/* Ruler Tick (Left side) */}\n                                <div className={cn(\n                                    \"h-[1.5px] rounded-full transition-all duration-300 group-hover:w-6 group-hover:bg-foreground group-hover:opacity-100\",\n                                    isSameDate\n                                        ? \"w-6 bg-foreground opacity-100\"\n                                        : \"w-2 bg-muted-foreground opacity-30\"\n                                )} />\n\n                                {/* Date Label (Appears on Right of tick) */}\n                                <span className={cn(\n                                    \"text-[11px] font-mono tracking-wide transition-all duration-300 whitespace-nowrap group-hover:opacity-100 group-hover:translate-x-0 group-hover:text-foreground\",\n                                    isSameDate\n                                        ? \"opacity-100 text-foreground translate-x-0\"\n                                        : \"opacity-0 text-muted-foreground -translate-x-4\"\n                                )}>\n                                    {monthNames[parseInt(month)]} {day}\n                                </span>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/button.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\"\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n  return (\n    <Comp\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants } "],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,2KAAgB,MAAC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxF,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/lib/colors.js"],"sourcesContent":["// Deterministic color assignment for tags\nconst COLORS = [\n    // Pastel \"Marker\" Colors (Backgrounds)\n    \"bg-yellow-200/50 text-yellow-900 dark:bg-yellow-900/40 dark:text-yellow-100\",\n    \"bg-green-200/50 text-green-900 dark:bg-green-900/40 dark:text-green-100\",\n    \"bg-blue-200/50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-100\",\n    \"bg-pink-200/50 text-pink-900 dark:bg-pink-900/40 dark:text-pink-100\",\n    \"bg-purple-200/50 text-purple-900 dark:bg-purple-900/40 dark:text-purple-100\",\n    \"bg-orange-200/50 text-orange-900 dark:bg-orange-900/40 dark:text-orange-100\",\n    \"bg-teal-200/50 text-teal-900 dark:bg-teal-900/40 dark:text-teal-100\",\n    \"bg-rose-200/50 text-rose-900 dark:bg-rose-900/40 dark:text-rose-100\",\n];\n\nexport const getTagColor = (tagName) => {\n    if (!tagName) return COLORS[0];\n    let hash = 0;\n    for (let i = 0; i < tagName.length; i++) {\n        hash = tagName.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const index = Math.abs(hash) % COLORS.length;\n    return COLORS[index];\n};\n"],"names":[],"mappings":";;;;AAAA,0CAA0C;AAC1C,MAAM,SAAS;IACX,uCAAuC;IACvC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAEM,MAAM,cAAc,CAAC;IACxB,IAAI,CAAC,SAAS,OAAO,MAAM,CAAC,EAAE;IAC9B,IAAI,OAAO;IACX,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;QACrC,OAAO,QAAQ,UAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI;IACtD;IACA,MAAM,QAAQ,KAAK,GAAG,CAAC,QAAQ,OAAO,MAAM;IAC5C,OAAO,MAAM,CAAC,MAAM;AACxB"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/TagsRail.jsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../lib/utils';\nimport { Button } from \"./ui/button\";\nimport { getTagColor } from '../lib/colors';\n\nexport const TagsRail = ({ notes, activeNoteId, tags = [], onTagClick }) => {\n    // Get active tags for the current note\n    const activeTags = React.useMemo(() => {\n        if (!activeNoteId) return new Set();\n        const note = notes.find(n => n.id === activeNoteId);\n        if (!note) return new Set();\n\n        // Extract tags from note content (naive regex or pre-parsed?)\n        // Assuming tags are hashtags like #tag\n        const found = note.content.match(/#[\\w-]+/g) || [];\n        // Clean them (remove #)\n        return new Set(found.map(t => t.slice(1)));\n    }, [activeNoteId, notes]);\n\n    // Sort tags alphabetically? Or by frequency?\n    // Let's stick to alphabetical for stability.\n    const sortedTags = React.useMemo(() => {\n        return [...tags].sort();\n    }, [tags]);\n\n    // Sliding Window Logic for Tags\n    const windowedTags = React.useMemo(() => {\n        if (!activeTags.size || tags.length <= 25) return sortedTags;\n\n        // Find the index of the first active tag in the sorted list\n        // This acts as our \"center of gravity\"\n        const firstActiveTag = sortedTags.find(t => activeTags.has(t));\n        const activeIndex = sortedTags.indexOf(firstActiveTag);\n\n        if (activeIndex === -1) return sortedTags.slice(0, 25);\n\n        // Center (~12th item)\n        let start = activeIndex - 12;\n        let end = activeIndex + 13;\n\n        // Clamp\n        if (start < 0) {\n            start = 0;\n            end = 25;\n        }\n        if (end > sortedTags.length) {\n            end = sortedTags.length;\n            start = Math.max(0, end - 25);\n        }\n\n        return sortedTags.slice(start, end);\n    }, [sortedTags, activeTags, tags.length]);\n\n    if (!tags || tags.length === 0) return null;\n\n    return (\n        <div className=\"fixed right-8 top-24 bottom-32 w-24 z-40 hidden sm:flex flex-col justify-center pointer-events-none\">\n            {/* Inner container with scroll if needed */}\n            <div className=\"max-h-full overflow-y-auto no-scrollbar py-4 flex flex-col items-center\">\n                <div className=\"flex flex-col gap-1 w-full px-2\">\n                    {windowedTags.map(tag => {\n                        const isActive = activeTags.has(tag);\n                        const colorClass = getTagColor(tag);\n\n                        // Extract just the text color from the composite class for the label hover\n                        // Or just apply the full bg to the label? \n                        // Let's apply specific styles: \n                        // Tick: Always takes the color (background). \n                        // Label: Takes the color on hover/active.\n\n                        // We need to parse the bg color for the tick. \n                        // But wait, the class string is \"bg-yellow-200/50 text-yellow-900\".\n                        // Use it directly for a small badge? \n                        // User wants \"Physical Highlighter\".\n\n                        return (\n                            <div\n                                key={tag}\n                                onClick={() => onTagClick(tag)}\n                                className=\"group flex items-center justify-end w-full gap-3 h-3 cursor-pointer pointer-events-auto\"\n                            >\n                                {/* Tag Label (Appears on LEFT of tick for Right Rail) */}\n                                <span className={cn(\n                                    \"text-[11px] font-mono tracking-wide transition-all duration-300 whitespace-nowrap px-1.5 py-0.5 rounded\",\n                                    isActive\n                                        ? `opacity-100 translate-x-0 ${colorClass}`\n                                        : \"opacity-0 text-muted-foreground translate-x-4 group-hover:opacity-100 group-hover:translate-x-0\"\n                                )}>\n                                    #{tag}\n                                </span>\n\n                                {/* Ruler Tick (Right side) */}\n                                {/* We can't easily extract just the 'bg-color' bit from the utility string for the tick \n                                    if it's a composite string. \n                                    Simple solution: Use the text color for the tick background? \n                                    Or just rely on 'bg-foreground' for simplicity and keep color only on the label?\n                                    User said \"Highlighter marker\".\n                                    Let's keep the tick black (zinc) for structure, and color only the label. \n                                    OR color the tick too. Let's try coloring the tick with 'currentColor' by setting text color on parent? \n                                */}\n                                <div className={cn(\n                                    \"h-[1.5px] rounded-full transition-all duration-300 group-hover:w-6 group-hover:opacity-100\",\n                                    isActive\n                                        ? \"w-6 bg-foreground opacity-100\" // Keep tick neutral/strong\n                                        : \"w-2 bg-muted-foreground opacity-30\"\n                                )} />\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,WAAW,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,OAAO,EAAE,EAAE,UAAU,EAAE;;IACnE,uCAAuC;IACvC,MAAM,aAAa,wKAAK,CAAC,OAAO;wCAAC;YAC7B,IAAI,CAAC,cAAc,OAAO,IAAI;YAC9B,MAAM,OAAO,MAAM,IAAI;qDAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;YACtC,IAAI,CAAC,MAAM,OAAO,IAAI;YAEtB,8DAA8D;YAC9D,uCAAuC;YACvC,MAAM,QAAQ,KAAK,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE;YAClD,wBAAwB;YACxB,OAAO,IAAI,IAAI,MAAM,GAAG;gDAAC,CAAA,IAAK,EAAE,KAAK,CAAC;;QAC1C;uCAAG;QAAC;QAAc;KAAM;IAExB,6CAA6C;IAC7C,6CAA6C;IAC7C,MAAM,aAAa,wKAAK,CAAC,OAAO;wCAAC;YAC7B,OAAO;mBAAI;aAAK,CAAC,IAAI;QACzB;uCAAG;QAAC;KAAK;IAET,gCAAgC;IAChC,MAAM,eAAe,wKAAK,CAAC,OAAO;0CAAC;YAC/B,IAAI,CAAC,WAAW,IAAI,IAAI,KAAK,MAAM,IAAI,IAAI,OAAO;YAElD,4DAA4D;YAC5D,uCAAuC;YACvC,MAAM,iBAAiB,WAAW,IAAI;iEAAC,CAAA,IAAK,WAAW,GAAG,CAAC;;YAC3D,MAAM,cAAc,WAAW,OAAO,CAAC;YAEvC,IAAI,gBAAgB,CAAC,GAAG,OAAO,WAAW,KAAK,CAAC,GAAG;YAEnD,sBAAsB;YACtB,IAAI,QAAQ,cAAc;YAC1B,IAAI,MAAM,cAAc;YAExB,QAAQ;YACR,IAAI,QAAQ,GAAG;gBACX,QAAQ;gBACR,MAAM;YACV;YACA,IAAI,MAAM,WAAW,MAAM,EAAE;gBACzB,MAAM,WAAW,MAAM;gBACvB,QAAQ,KAAK,GAAG,CAAC,GAAG,MAAM;YAC9B;YAEA,OAAO,WAAW,KAAK,CAAC,OAAO;QACnC;yCAAG;QAAC;QAAY;QAAY,KAAK,MAAM;KAAC;IAExC,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG,OAAO;IAEvC,qBACI,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;0BACV,aAAa,GAAG,CAAC,CAAA;oBACd,MAAM,WAAW,WAAW,GAAG,CAAC;oBAChC,MAAM,aAAa,IAAA,sIAAW,EAAC;oBAE/B,2EAA2E;oBAC3E,2CAA2C;oBAC3C,gCAAgC;oBAChC,8CAA8C;oBAC9C,0CAA0C;oBAE1C,+CAA+C;oBAC/C,oEAAoE;oBACpE,sCAAsC;oBACtC,qCAAqC;oBAErC,qBACI,6LAAC;wBAEG,SAAS,IAAM,WAAW;wBAC1B,WAAU;;0CAGV,6LAAC;gCAAK,WAAW,IAAA,4HAAE,EACf,2GACA,WACM,CAAC,0BAA0B,EAAE,YAAY,GACzC;;oCACP;oCACG;;;;;;;0CAYN,6LAAC;gCAAI,WAAW,IAAA,4HAAE,EACd,8FACA,WACM,gCAAgC,2BAA2B;mCAC3D;;;;;;;uBA3BL;;;;;gBA+BjB;;;;;;;;;;;;;;;;AAKpB;GA5Ga;KAAA"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/EntryBlock.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { cn } from '../lib/utils';\nimport { Button } from \"./ui/button\";\nimport { getTagColor } from '../lib/colors';\n\n// Helper to render content with highlighted tags\nconst renderHighlightedContent = (text) => {\n    if (!text) return null;\n\n    // Split by tags\n    // Regex matches: (#tag)\n    const parts = text.split(/(#[\\w-]+)/g);\n\n    return parts.map((part, i) => {\n        if (part.startsWith('#')) {\n            const colorClass = getTagColor(part.substring(1)); // Remove # for hash\n            return (\n                <span key={i} className={cn(\"rounded px-0.5 -mx-0.5\", colorClass)}>\n                    {part}\n                </span>\n            );\n        }\n        return part;\n    });\n};\n\nexport const EntryBlock = ({\n    note,\n    onSave,\n    onInput,\n    onFocus,\n    autoFocus = false,\n    isLast = false\n}) => {\n    const contentRef = useRef(null);\n\n    useEffect(() => {\n        if (autoFocus && contentRef.current) {\n            contentRef.current.focus();\n            const range = document.createRange();\n            range.selectNodeContents(contentRef.current);\n            range.collapse(false);\n            const sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n    }, [autoFocus]);\n\n    const handleInput = (e) => {\n        if (onInput) {\n            onInput(note.id, e.target.innerText);\n        }\n    };\n\n    const handleBlur = (e) => {\n        if (onSave) {\n            onSave(note.id, e.target.innerText);\n        }\n    };\n\n    return (\n        <div id={note.id} className=\"group relative w-full max-w-3xl mx-auto py-4\">\n            {/* \n               Highlight Overlay (Backdrop) \n               - Positioned absolutely behind the input\n               - Must match font/size/spacing EXACTLY\n               - Text color is transparent so only bg colors of spans show? \n                 Actually, we want the text to be visible in front (from the input).\n                 So the backdrop should have transparent text? \n                 Yes, 'text-transparent' for the base text, but the SPANS inside might define text color.\n                 Wait, if we use 'text-transparent' on the backdrop, the non-tag text is invisible.\n                 The tag text inside the spans will be visible if we set a color.\n                 BUT the input is on TOP. If the input has opaque text, it will cover the backdrop.\n                 \n                 Standard Backdrop Pattern:\n                 1. Front (Input): text-transparent (caret color visible), bg-transparent.\n                 2. Back (Highlight): text-foreground, has the colors.\n                 \n                 Issue: Caret color in a transparent text div is tricky in some browsers.\n                 \n                 Alternative: \n                 1. Front (Input): Text Visible (Normal). bg-transparent. \n                 2. Back (Highlight): Text Transparent. Spans have Background Color.\n                 This way the color shows behind the black text of the input.\n            */}\n            <div className=\"absolute inset-0 pointer-events-none whitespace-pre-wrap leading-relaxed text-sm font-mono overflow-hidden\" aria-hidden=\"true\">\n                {/* Backdrop renders ALL text. Normal text matches foreground. Tags are colored. */}\n                {renderHighlightedContent(note.content)}\n            </div>\n\n            {/* Content Input */}\n            <div\n                ref={contentRef}\n                contentEditable\n                suppressContentEditableWarning\n                onInput={handleInput}\n                onBlur={handleBlur}\n                onFocus={() => onFocus && onFocus(note)}\n                className=\"relative z-10 w-full min-h-[1.5em] outline-none text-sm font-mono text-transparent caret-foreground whitespace-pre-wrap leading-relaxed bg-transparent empty:before:content-[attr(data-placeholder)] empty:before:text-muted-foreground/40\"\n                data-placeholder={isLast ? \"Write something...\" : \"\"}\n            >\n                {note.content}\n            </div>\n\n            {/* Hover Controls (Delete, etc - Minimalist) */}\n            <div className=\"absolute -right-12 top-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-muted-foreground hover:text-destructive\"\n                    onClick={() => {\n                        // Trigger deletion by saving empty content or passing a specific delete prop?\n                        // The parent handles delete if content is empty. So we can clear content and blur?\n                        // Or better to pass onDelete prop.\n                        if (contentRef.current) {\n                            contentRef.current.innerText = \"\";\n                            contentRef.current.blur(); // Triggers onSave with empty string -> Delete\n                        }\n                    }}\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-4 h-4\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\" />\n                    </svg>\n                </Button>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AAEA,iDAAiD;AACjD,MAAM,2BAA2B,CAAC;IAC9B,IAAI,CAAC,MAAM,OAAO;IAElB,gBAAgB;IAChB,wBAAwB;IACxB,MAAM,QAAQ,KAAK,KAAK,CAAC;IAEzB,OAAO,MAAM,GAAG,CAAC,CAAC,MAAM;QACpB,IAAI,KAAK,UAAU,CAAC,MAAM;YACtB,MAAM,aAAa,IAAA,sIAAW,EAAC,KAAK,SAAS,CAAC,KAAK,oBAAoB;YACvE,qBACI,6LAAC;gBAAa,WAAW,IAAA,4HAAE,EAAC,0BAA0B;0BACjD;eADM;;;;;QAInB;QACA,OAAO;IACX;AACJ;AAEO,MAAM,aAAa,CAAC,EACvB,IAAI,EACJ,MAAM,EACN,OAAO,EACP,OAAO,EACP,YAAY,KAAK,EACjB,SAAS,KAAK,EACjB;;IACG,MAAM,aAAa,IAAA,uKAAM,EAAC;IAE1B,IAAA,0KAAS;gCAAC;YACN,IAAI,aAAa,WAAW,OAAO,EAAE;gBACjC,WAAW,OAAO,CAAC,KAAK;gBACxB,MAAM,QAAQ,SAAS,WAAW;gBAClC,MAAM,kBAAkB,CAAC,WAAW,OAAO;gBAC3C,MAAM,QAAQ,CAAC;gBACf,MAAM,MAAM,OAAO,YAAY;gBAC/B,IAAI,eAAe;gBACnB,IAAI,QAAQ,CAAC;YACjB;QACJ;+BAAG;QAAC;KAAU;IAEd,MAAM,cAAc,CAAC;QACjB,IAAI,SAAS;YACT,QAAQ,KAAK,EAAE,EAAE,EAAE,MAAM,CAAC,SAAS;QACvC;IACJ;IAEA,MAAM,aAAa,CAAC;QAChB,IAAI,QAAQ;YACR,OAAO,KAAK,EAAE,EAAE,EAAE,MAAM,CAAC,SAAS;QACtC;IACJ;IAEA,qBACI,6LAAC;QAAI,IAAI,KAAK,EAAE;QAAE,WAAU;;0BAwBxB,6LAAC;gBAAI,WAAU;gBAA6G,eAAY;0BAEnI,yBAAyB,KAAK,OAAO;;;;;;0BAI1C,6LAAC;gBACG,KAAK;gBACL,eAAe;gBACf,8BAA8B;gBAC9B,SAAS;gBACT,QAAQ;gBACR,SAAS,IAAM,WAAW,QAAQ;gBAClC,WAAU;gBACV,oBAAkB,SAAS,uBAAuB;0BAEjD,KAAK,OAAO;;;;;;0BAIjB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,+IAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS;wBACL,8EAA8E;wBAC9E,mFAAmF;wBACnF,mCAAmC;wBACnC,IAAI,WAAW,OAAO,EAAE;4BACpB,WAAW,OAAO,CAAC,SAAS,GAAG;4BAC/B,WAAW,OAAO,CAAC,IAAI,IAAI,8CAA8C;wBAC7E;oBACJ;8BAEA,cAAA,6LAAC;wBAAI,OAAM;wBAA6B,MAAK;wBAAO,SAAQ;wBAAY,aAAa;wBAAK,QAAO;wBAAe,WAAU;kCACtH,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM7E;GArGa;KAAA"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/NotebookFeed.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { EntryBlock } from './EntryBlock';\nimport { cn } from '../lib/utils';\n\nexport const NotebookFeed = ({\n    notes,\n    onUpdateNote,\n    onCreateNote,\n    onDeleteNote,\n    onFocusBox\n}) => {\n    const feedRef = useRef(null);\n    const bottomRef = useRef(null);\n\n    // Sort notes: Oldest -> Newest for \"Notebook\" feel\n    const sortedNotes = React.useMemo(() => {\n        return [...notes].sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n    }, [notes]);\n\n    // Group by date for visual separation? \n    // User said: \"It will look like one single document in it's entirity. ... There will not be any visual distinction between the notes from multiple days. Except the spacing between them.\"\n\n    // So we just map them with some margin.\n\n    // Auto-scroll to bottom on load and when notes change (if at bottom?)\n    // For now, force scroll to bottom on mount.\n    useEffect(() => {\n        if (bottomRef.current) {\n            // Small timeout to ensure layout is complete\n            setTimeout(() => {\n                bottomRef.current.scrollIntoView({ behavior: 'auto' });\n            }, 100);\n        }\n    }, [sortedNotes.length]); // Re-run if notes count changes (initial load)\n\n    // Intersection Observer to track scroll position\n    // We use a \"Smart Center\" approach:\n    // 1. Keep track of all notes currently inside the \"Active Zone\" (30% center strip).\n    // 2. Of those candidates, pick the one strictly closest to the viewport center line.\n    const intersectingNotesRef = useRef(new Set());\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                // Update the set of candidates\n                entries.forEach((entry) => {\n                    if (entry.isIntersecting) {\n                        intersectingNotesRef.current.add(entry.target);\n                    } else {\n                        intersectingNotesRef.current.delete(entry.target);\n                    }\n                });\n\n                // Find the winner\n                let bestCandidate = null;\n                let minDistance = Infinity;\n                const viewportCenter = window.innerHeight / 2;\n\n                intersectingNotesRef.current.forEach((node) => {\n                    const rect = node.getBoundingClientRect();\n                    const nodeCenter = rect.top + (rect.height / 2);\n                    const dist = Math.abs(viewportCenter - nodeCenter);\n\n                    if (dist < minDistance) {\n                        minDistance = dist;\n                        bestCandidate = node;\n                    }\n                });\n\n                if (bestCandidate) {\n                    const noteId = bestCandidate.getAttribute('data-note-id');\n                    const note = notes.find(n => n.id == noteId);\n                    if (note) {\n                        onFocusBox(note);\n                    }\n                }\n            },\n            {\n                root: feedRef.current, // Use ref or viewport?\n                // Using null (viewport) is usually safer for \"screen center\" calculations unless feed is a sub-scroller.\n                // Assuming Main Layout -> correct.\n                // Reverting root to null to be safe about window calculations.\n                root: null,\n                threshold: 0,\n                rootMargin: \"-35% 0px -35% 0px\" // 30% Active Zone\n            }\n        );\n\n        const noteElements = document.querySelectorAll('.entry-block');\n        noteElements.forEach(el => observer.observe(el));\n\n        return () => observer.disconnect();\n    }, [notes, onFocusBox, sortedNotes]); // Re-run if list changes\n\n    return (\n        <div className=\"flex-1 h-full overflow-y-auto bg-background scroll-smooth\" ref={feedRef}>\n            <div className=\"min-h-full w-full max-w-4xl mx-auto px-8 py-12 sm:pl-32 sm:pr-32\"> {/* Dual padding for Rails */}\n                <div className=\"flex flex-col gap-12\"> {/* Gap between entries */}\n                    {sortedNotes.map((note, index) => (\n                        <div key={note.id} className=\"entry-block\" data-note-id={note.id}>\n                            <TiptapEditor\n                                note={note}\n                                onSave={(id, content) => {\n                                    if (!content || !content.trim()) {\n                                        onDeleteNote(note.id);\n                                    } else {\n                                        onUpdateNote(note, content);\n                                    }\n                                }}\n                                onInput={(id, content) => {\n                                    // Optional: live update state?\n                                }}\n                                autoFocus={note.isNew} // Pass autoFocus if new note\n                                isLast={index === sortedNotes.length - 1}\n                            />\n                        </div>\n                    ))}\n                </div>\n\n                {/* Bottom spacer and generic \"New Entry\" area if needed */}\n                <div\n                    ref={bottomRef}\n                    className=\"h-[50vh] w-full cursor-text\"\n                    onClick={() => {\n                        // If last note is empty, focus it. Else create new one.\n                        const lastNote = sortedNotes[sortedNotes.length - 1];\n                        if (lastNote && !lastNote.content.trim()) {\n                            // Focus logic needs to be lifted or handled differently\n                        } else {\n                            onCreateNote('');\n                        }\n                    }}\n                />\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 842, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/dropdown.jsx"],"sourcesContent":["import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { cn } from \"../../lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\nconst DropdownMenuSeparator = DropdownMenuPrimitive.Separator\n\nconst DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      collisionPadding={8}\n      avoidCollisions={true}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuGroup,\n} "],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,eAAe,uLAA0B;AAC/C,MAAM,sBAAsB,0LAA6B;AACzD,MAAM,oBAAoB,wLAA2B;AACrD,MAAM,wBAAwB,4LAA+B;AAE7D,MAAM,oCAAsB,2KAAgB,MAAC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBACrF,6LAAC,yLAA4B;kBAC3B,cAAA,6LAAC,0LAA6B;YAC5B,KAAK;YACL,YAAY;YACZ,kBAAkB;YAClB,iBAAiB;YACjB,WAAW,IAAA,4HAAE,EACX,ybACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,oBAAoB,WAAW,GAAG,0LAA6B,CAAC,WAAW;AAE3E,MAAM,iCAAmB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACzE,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mOACA,SAAS,QACT;QAED,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW"}},
    {"offset": {"line": 912, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/alert-dialog.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\nimport { cn } from \"../../lib/utils\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n} "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,cAAc,sLAAyB;AAC7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACpE,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAPH;AAUN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACpE,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACJ,iBACC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACJ,iBACC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAClE,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxE,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAAG,6LAAgC,CAAC,WAAW;AAEjF,MAAM,kCAAoB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACnE,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,gVACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACnE,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wWACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1069, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/UserDropdown.jsx"],"sourcesContent":["\"use client\"\nimport { Button } from \"./button\"\nimport { useState } from \"react\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"./dropdown\"\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from \"./alert-dialog\"\n\nexport function UserDropdown({ user, onSignOut, onDeleteAccount }) {\n  const [dropdownOpen, setDropdownOpen] = useState(false)\n  const [alertOpen, setAlertOpen] = useState(false)\n\n  const handleDeleteClick = () => {\n    setDropdownOpen(false)\n    setAlertOpen(true)\n  }\n\n  const handleConfirmDelete = async () => {\n    try {\n      await onDeleteAccount()\n    } catch (error) {\n      console.error('Error deleting account:', error)\n    } finally {\n      setAlertOpen(false)\n    }\n  }\n\n  return (\n    <>\n      <DropdownMenu open={dropdownOpen} onOpenChange={setDropdownOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button \n            variant=\"ghost\" \n            size=\"icon\"\n            className=\"focus-visible:ring-0 focus-visible:ring-offset-0 relative\"\n          >\n            {user?.user_metadata?.avatar_url ? (\n              <img \n                src={user.user_metadata.avatar_url} \n                alt={user.email}\n                className=\"w-8 h-8 rounded-full\"\n              />\n            ) : (\n              <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium\">\n                {(user?.user_metadata?.full_name?.charAt(0) || user?.email?.charAt(0) || 'U').toUpperCase()}\n              </div>\n            )}\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent \n          align=\"end\"\n          alignOffset={0}  // This ensures exact alignment\n          sideOffset={8}\n          className=\"w-56\"\n          forceMount\n        >\n          <div className=\"px-2 py-1.5\">\n            <div className=\"font-medium\">{user.user_metadata?.full_name}</div>\n            <div className=\"text-xs text-muted-foreground\">\n              {user.email}\n            </div>\n          </div>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem \n            onClick={onSignOut}\n            className=\"text-muted-foreground focus:text-muted-foreground\"\n          >\n            Sign out\n          </DropdownMenuItem>\n          {!user.isGuest && (\n            <DropdownMenuItem\n              className=\"text-destructive focus:text-destructive\"\n              onSelect={(e) => {\n                e.preventDefault()\n                handleDeleteClick()\n              }}\n            >\n              Delete Account\n            </DropdownMenuItem>\n          )}\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <AlertDialog open={alertOpen} onOpenChange={setAlertOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This action cannot be undone. This will permanently delete your\n              account and remove all your data from our servers.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setAlertOpen(false)}>\n              Cancel\n            </AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleConfirmDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Delete Account\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAOA;;;AAVA;;;;;AAYO,SAAS,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE;;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,oBAAoB;QACxB,gBAAgB;QAChB,aAAa;IACf;IAEA,MAAM,sBAAsB;QAC1B,IAAI;YACF,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE;;0BACE,6LAAC,uJAAY;gBAAC,MAAM;gBAAc,cAAc;;kCAC9C,6LAAC,8JAAmB;wBAAC,OAAO;kCAC1B,cAAA,6LAAC,+IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;sCAET,MAAM,eAAe,2BACpB,6LAAC;gCACC,KAAK,KAAK,aAAa,CAAC,UAAU;gCAClC,KAAK,KAAK,KAAK;gCACf,WAAU;;;;;qDAGZ,6LAAC;gCAAI,WAAU;0CACZ,CAAC,MAAM,eAAe,WAAW,OAAO,MAAM,MAAM,OAAO,OAAO,MAAM,GAAG,EAAE,WAAW;;;;;;;;;;;;;;;;kCAKjG,6LAAC,8JAAmB;wBAClB,OAAM;wBACN,aAAa;wBACb,YAAY;wBACZ,WAAU;wBACV,UAAU;;0CAEV,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAe,KAAK,aAAa,EAAE;;;;;;kDAClD,6LAAC;wCAAI,WAAU;kDACZ,KAAK,KAAK;;;;;;;;;;;;0CAGf,6LAAC,gKAAqB;;;;;0CACtB,6LAAC,2JAAgB;gCACf,SAAS;gCACT,WAAU;0CACX;;;;;;4BAGA,CAAC,KAAK,OAAO,kBACZ,6LAAC,2JAAgB;gCACf,WAAU;gCACV,UAAU,CAAC;oCACT,EAAE,cAAc;oCAChB;gCACF;0CACD;;;;;;;;;;;;;;;;;;0BAOP,6LAAC,6JAAW;gBAAC,MAAM;gBAAW,cAAc;0BAC1C,cAAA,6LAAC,oKAAkB;;sCACjB,6LAAC,mKAAiB;;8CAChB,6LAAC,kKAAgB;8CAAC;;;;;;8CAClB,6LAAC,wKAAsB;8CAAC;;;;;;;;;;;;sCAK1B,6LAAC,mKAAiB;;8CAChB,6LAAC,mKAAiB;oCAAC,SAAS,IAAM,aAAa;8CAAQ;;;;;;8CAGvD,6LAAC,mKAAiB;oCAChB,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAnGgB;KAAA"}},
    {"offset": {"line": 1287, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/lib/db.js"],"sourcesContent":["import { openDB } from 'idb';\nimport { supabase } from './supabase';\n\n// Initialize IndexedDB\nexport async function initDB(userId) {\n  const db = await openDB('notes-app', 1, {\n    upgrade(db) {\n      const store = db.createObjectStore('notes', {\n        keyPath: 'id',\n      });\n      store.createIndex('userId', 'userId');\n      store.createIndex('syncStatus', 'syncStatus');\n    },\n  });\n  return db;\n}\n\n// Save note to both IndexedDB and Supabase\nexport async function saveNote(db, userId, note) {\n  try {\n    // First save to Supabase\n    const { data, error } = await supabase\n      .from('notes')\n      .insert([{\n        content: note.content,\n        user_id: userId,\n        created_at: (note.createdAt || new Date()).toISOString(),\n        updated_at: (note.updatedAt || new Date()).toISOString()\n      }])\n      .select()\n      .single();\n\n    if (error) {\n      const tempId = note.id || crypto.randomUUID();\n      const newNote = {\n        ...note,\n        id: tempId,\n        userId,\n        syncStatus: 'pending',\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      const tx = db.transaction('notes', 'readwrite');\n      await tx.store.put(newNote);\n      await tx.done;\n      return tempId;\n    }\n\n    // Then save to IndexedDB\n    const newNote = {\n      ...note,\n      id: data.id,\n      userId,\n      syncStatus: 'synced',\n      createdAt: new Date(data.created_at),\n      updatedAt: new Date(data.updated_at)\n    };\n    const tx = db.transaction('notes', 'readwrite');\n    await tx.store.put(newNote);\n    await tx.done;\n\n    return data.id;\n  } catch (error) {\n    console.error('Error saving note:', error);\n    throw error;\n  }\n}\n\n// Helper function to check if user has any notes\nasync function hasExistingNotes(db, userId) {\n  try {\n    // Check Supabase for existing notes\n    const { data, error } = await supabase\n      .from('notes')\n      .select('id')\n      .eq('user_id', userId)\n      .limit(1);\n\n    if (error) throw error;\n    return data && data.length > 0;\n  } catch (error) {\n    console.error('Error checking existing notes:', error);\n    return false;\n  }\n}\n\n// Get notes from Supabase and sync with IndexedDB\nexport async function getNotes(db, userId) {\n  let hasNotes = false;\n  try {\n    hasNotes = await hasExistingNotes(db, userId);\n\n    const { data: supabaseNotes, error } = await supabase\n      .from('notes')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n\n    if (error) throw error;\n\n    if (!hasNotes && (!supabaseNotes || supabaseNotes.length === 0)) {\n      return [];\n    }\n\n    return supabaseNotes.map(note => ({\n      id: note.id,\n      content: note.content,\n      userId: note.user_id,\n      syncStatus: 'synced',\n      tags: note.tags || [],\n      createdAt: new Date(note.created_at),\n      updatedAt: new Date(note.updated_at)\n    }));\n  } catch (error) {\n    console.error('Error fetching notes:', error);\n    return hasNotes ? [] : null;\n  }\n}\n\n// Delete note from both Supabase and IndexedDB\nexport async function deleteNote(db, userId, noteId) {\n  try {\n    // Delete from Supabase\n    const { data, error } = await supabase\n      .from('notes')\n      .select()\n      .eq('id', noteId)\n      .eq('user_id', userId)\n      .single();\n\n    if (error) {\n      throw new Error('Note not found or unauthorized');\n    }\n\n    // Delete from Supabase\n    const { error: deleteError } = await supabase\n      .from('notes')\n      .delete()\n      .eq('id', noteId)\n      .eq('user_id', userId);\n\n    if (deleteError) throw deleteError;\n\n    // Delete from IndexedDB if it exists\n    const note = await db.get('notes', noteId);\n    if (note) {\n      await db.delete('notes', noteId);\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting note:', error);\n    throw error;\n  }\n}\n\n// Update note in both Supabase and IndexedDB\nexport async function updateNote(db, userId, note) {\n  console.log('updateNote called with:', { userId, note });\n  try {\n    // First check if note exists in Supabase\n    const { data: existingNote, error: checkError } = await supabase\n      .from('notes')\n      .select()\n      .eq('id', note.id)\n      .eq('user_id', userId)\n      .single();\n\n    console.log('Existing note check:', { existingNote, checkError });\n    if (checkError) {\n      throw new Error('Note not found or unauthorized');\n    }\n\n    // Update in Supabase\n    const { data: updatedNote, error: updateError } = await supabase\n      .from('notes')\n      .update({\n        content: note.content,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', note.id)\n      .eq('user_id', userId)\n      .select()\n      .single();\n\n    console.log('Update result:', { updatedNote, updateError });\n    if (updateError) throw updateError;\n\n    // Update in IndexedDB\n    const tx = db.transaction('notes', 'readwrite');\n    const updatedNoteForDB = {\n      id: updatedNote.id,\n      content: updatedNote.content,\n      userId: existingNote.user_id,\n      syncStatus: 'synced',\n      createdAt: new Date(existingNote.created_at),\n      updatedAt: new Date(updatedNote.updated_at)\n    };\n    console.log('Updating IndexedDB with:', updatedNoteForDB);\n    await tx.store.put(updatedNoteForDB);\n    await tx.done;\n\n    // Return the updated note so UI can be updated\n    return updatedNoteForDB;\n  } catch (error) {\n    console.error('Error updating note:', error);\n    throw error;\n  }\n}\n\n// Sync pending notes to Supabase\nexport async function syncPendingNotes(db, userId) {\n  try {\n    const tx = db.transaction('notes', 'readwrite');\n    const pendingNotes = await tx.store.index('syncStatus').getAll('pending');\n\n    if (pendingNotes.length === 0) return;\n\n    await Promise.all(pendingNotes.map(async (note) => {\n      try {\n        // Try to update first\n        const { error: updateError } = await supabase\n          .from('notes')\n          .update({\n            content: note.content,\n            updated_at: new Date().toISOString()\n          })\n          .eq('id', note.id)\n          .eq('user_id', userId);\n\n        if (!updateError) {\n          await tx.store.put({\n            ...note,\n            syncStatus: 'synced'\n          });\n          return;\n        }\n\n        // If update fails, try to insert\n        const { data, error } = await supabase\n          .from('notes')\n          .insert([{\n            content: note.content,\n            user_id: userId,\n            created_at: note.createdAt.toISOString(),\n            updated_at: new Date().toISOString()\n          }])\n          .select()\n          .single();\n\n        if (error) throw error;\n\n        await tx.store.put({\n          ...note,\n          id: data.id,\n          syncStatus: 'synced'\n        });\n      } catch (error) {\n        console.error('Error syncing note:', error);\n      }\n    }));\n\n    await tx.done;\n  } catch (error) {\n    console.error('Error in syncPendingNotes:', error);\n  }\n}\n\n// Default notes for new users\nconst getDefaultNotes = () => [\n  {\n    content: \"Welcome to Notes!  This is a sample note to help you get started. #welcome #notes\",\n    createdAt: new Date(),\n    updatedAt: new Date()\n  },\n  {\n    content: \"You can add tags to your notes using hashtags like this: #tips\",\n    createdAt: new Date(),\n    updatedAt: new Date()\n  },\n  {\n    content: \"Click on any tag to filter notes. Try clicking on #welcome or #tips to see how it works!\",\n    createdAt: new Date(),\n    updatedAt: new Date()\n  }\n];\n\n// Create default notes for new users\nexport async function createDefaultNotes(db, userId) {\n  try {\n    // Double-check that user doesn't have notes\n    const hasNotes = await hasExistingNotes(db, userId);\n    if (hasNotes) {\n      return true;\n    }\n\n    const defaultNotes = getDefaultNotes();\n\n    // Clear any existing data\n    await clearExistingNotes(db, userId);\n\n    // Create notes in Supabase first\n    const { data, error: insertError } = await supabase\n      .from('notes')\n      .insert(defaultNotes.map(note => ({\n        content: note.content,\n        user_id: userId,\n        created_at: note.createdAt.toISOString(),\n        updated_at: note.updatedAt.toISOString()\n      })))\n      .select();\n\n    if (insertError) throw insertError;\n\n    // Then save to IndexedDB in a single transaction\n    const tx = db.transaction('notes', 'readwrite');\n    await Promise.all(data.map(note => \n      tx.store.put({\n        id: note.id,\n        content: note.content,\n        userId: note.user_id,\n        syncStatus: 'synced',\n        createdAt: new Date(note.created_at),\n        updatedAt: new Date(note.updated_at)\n      })\n    ));\n    await tx.done;\n\n    return true;\n  } catch (error) {\n    console.error('Error creating default notes:', error);\n    throw error;\n  }\n}\n\n// Helper function to clear existing notes\nasync function clearExistingNotes(db, userId) {\n  // Clear IndexedDB\n  const tx = db.transaction('notes', 'readwrite');\n  await tx.store.index('userId').openCursor(userId).then(function deleteNote(cursor) {\n    if (!cursor) return;\n    cursor.delete();\n    return cursor.continue().then(deleteNote);\n  });\n  await tx.done;\n\n  await supabase\n    .from('notes')\n    .delete()\n    .eq('user_id', userId);\n}\n\n// Delete account and all associated data\nexport async function deleteAccount(db, userId) {\n  try {\n    // Delete all notes from Supabase\n    const { error: notesError } = await supabase\n      .from('notes')\n      .delete()\n      .eq('user_id', userId);\n\n    if (notesError) throw notesError;\n\n    // Delete user's own account using the user API\n    const { error: userError } = await supabase.rpc('delete_user');\n\n    if (userError) throw userError;\n\n    // Clear IndexedDB\n    const tx = db.transaction('notes', 'readwrite');\n    await tx.store.index('userId').openCursor(userId).then(function deleteNote(cursor) {\n      if (!cursor) return;\n      cursor.delete();\n      return cursor.continue().then(deleteNote);\n    });\n    await tx.done;\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting account:', error);\n    throw error;\n  }\n}\n\n// Add batch operations for better performance\nexport async function batchSaveNotes(db, userId, notes) {\n  const tx = db.transaction('notes', 'readwrite');\n  await Promise.all(notes.map(note => tx.store.put(note)));\n  await tx.done;\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 1612, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/hooks/useNotes.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { initDB, getNotes, saveNote, updateNote, deleteNote, syncPendingNotes, createDefaultNotes } from '../lib/db';\n\nexport function useNotes(user) {\n  const [notes, setNotes] = useState([]);\n  const [db, setDb] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Initialize DB and Fetch Notes\n  useEffect(() => {\n    const initializeApp = async () => {\n      if (!user) return;\n\n      try {\n        setIsLoading(true);\n        const dbInstance = await initDB(user.id);\n        setDb(dbInstance);\n\n        const fetchedNotes = await getNotes(dbInstance, user.id);\n\n        // Handle default notes creation if empty\n        if (Array.isArray(fetchedNotes) && fetchedNotes.length === 0) {\n          const created = await createDefaultNotes(dbInstance, user.id);\n          if (created) {\n            const initialNotes = await getNotes(dbInstance, user.id);\n            setNotes(initialNotes);\n          } else {\n            setNotes([]);\n          }\n        } else {\n          setNotes(fetchedNotes || []);\n        }\n\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setIsLoading(false);\n        setNotes([]);\n      }\n    };\n\n    initializeApp();\n  }, [user]);\n\n  // Sync Listener\n  useEffect(() => {\n    const handleOnline = () => {\n      if (db && user) {\n        syncPendingNotes(db, user.id);\n      }\n    };\n\n    window.addEventListener('online', handleOnline);\n    return () => window.removeEventListener('online', handleOnline);\n  }, [db, user]);\n\n  const addNote = async (content) => {\n    try {\n      if (!db || !user) throw new Error(\"Database or user not initialized\");\n\n      const noteId = await saveNote(db, user.id, {\n        content,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      const newNote = {\n        id: noteId,\n        content,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n\n      setNotes(prev => [newNote, ...prev]);\n      return newNote;\n    } catch (error) {\n      console.error('Error adding note:', error);\n      throw error;\n    }\n  };\n\n  const editNote = async (originalNote, newContent) => {\n    try {\n      if (!db || !user) throw new Error(\"Database or user not initialized\");\n\n      const updatedNote = {\n        ...originalNote,\n        content: newContent,\n        updatedAt: new Date()\n      };\n\n      const result = await updateNote(db, user.id, updatedNote);\n      setNotes(prev => prev.map(n => n.id === originalNote.id ? result : n));\n      return result;\n    } catch (error) {\n      console.error('Error updating note:', error);\n      throw error;\n    }\n  };\n\n  const removeNote = useCallback(async (noteId) => {\n    if (!db || !user) return;\n\n    try {\n      setIsLoading(true); // Optional: global loading state for delete? Maybe not.\n      // Actually locally locally loading might be better, but 'isLoading' is usually for initial load.\n      // I'll skip setting isLoading for delete to avoid UI flickering entire screen.\n      await deleteNote(db, user.id, noteId);\n      setNotes(prev => prev.filter(n => n.id !== noteId));\n    } catch (error) {\n      console.error('Error deleting note:', error);\n      throw error;\n    }\n  }, [db, user]);\n\n  return {\n    notes,\n    isLoading,\n    db,\n    addNote,\n    editNote,\n    removeNote\n  };\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1760, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/hooks/useTags.js"],"sourcesContent":["import { useMemo } from 'react';\n\nexport function useTags(notes) {\n  // Extract all unique tags\n  const allTags = useMemo(() => {\n    const tags = new Set();\n    notes.forEach(note => {\n      const matches = note.content.match(/#(\\w+)/g);\n      if (matches) {\n        matches.forEach(tag => tags.add(tag.slice(1)));\n      }\n    });\n    return Array.from(tags).sort();\n  }, [notes]);\n\n  const getSuggestions = (partialTag) => {\n    if (!partialTag) return [];\n\n    // exact match check? No, startsWith.\n    const term = partialTag.toLowerCase();\n\n    // Logic from NoteApp:\n    // .filter(tag => tag.toLowerCase().startsWith(partialTag)).slice(0, 5);\n\n    return allTags\n      .filter(tag => tag.toLowerCase().startsWith(term))\n      .slice(0, 5);\n  };\n\n  return {\n    allTags,\n    getSuggestions\n  };\n}"],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS,QAAQ,KAAK;;IAC3B,0BAA0B;IAC1B,MAAM,UAAU,IAAA,wKAAO;oCAAC;YACtB,MAAM,OAAO,IAAI;YACjB,MAAM,OAAO;4CAAC,CAAA;oBACZ,MAAM,UAAU,KAAK,OAAO,CAAC,KAAK,CAAC;oBACnC,IAAI,SAAS;wBACX,QAAQ,OAAO;wDAAC,CAAA,MAAO,KAAK,GAAG,CAAC,IAAI,KAAK,CAAC;;oBAC5C;gBACF;;YACA,OAAO,MAAM,IAAI,CAAC,MAAM,IAAI;QAC9B;mCAAG;QAAC;KAAM;IAEV,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,YAAY,OAAO,EAAE;QAE1B,qCAAqC;QACrC,MAAM,OAAO,WAAW,WAAW;QAEnC,sBAAsB;QACtB,wEAAwE;QAExE,OAAO,QACJ,MAAM,CAAC,CAAA,MAAO,IAAI,WAAW,GAAG,UAAU,CAAC,OAC3C,KAAK,CAAC,GAAG;IACd;IAEA,OAAO;QACL;QACA;IACF;AACF;GA/BgB"}},
    {"offset": {"line": 1812, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/assets/logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 206, height: 40, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,0IAAG;IAAE,OAAO;IAAK,QAAQ;IAAI,WAAW;IAAG,YAAY;AAAC"}},
    {"offset": {"line": 1832, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/NoteApp.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport debounce from 'lodash.debounce';\n\n// Components\nimport { TimelineRail } from './TimelineRail';\nimport { TagsRail } from './TagsRail';\nimport { NotebookFeed } from './NotebookFeed';\nimport { UserDropdown } from './ui/UserDropdown';\nimport { Button } from \"./ui/button\";\nimport { useTheme } from \"./ThemeProvider\";\nimport { MoonIcon, SunIcon } from '@heroicons/react/24/outline';\n\n// Hooks\nimport { useNotes } from '../hooks/useNotes';\nimport { useTags } from '../hooks/useTags';\n\n// Lib\nimport { deleteAccount } from '../lib/db';\nimport { supabase } from '../lib/supabase';\nimport logo from '../assets/logo.svg';\n\nconst NoteApp = ({ user }) => {\n  const { theme, setTheme } = useTheme();\n\n  // Custom Hooks\n  const { notes, isLoading, db, addNote, editNote, removeNote } = useNotes(user);\n  const { allTags, getSuggestions } = useTags(notes);\n\n  // We mostly rely on NotebookFeed's internal state + useNotes now.\n  // But we need to track active note for TimelineRail highlight.\n  const [activeNoteId, setActiveNoteId] = useState(null);\n\n  // Initialize active note to the last one (newest) on load\n  useEffect(() => {\n    if (notes.length > 0 && !activeNoteId) {\n      // Sort similar to Feed to ensure we pick the visual \"last\" one\n      const sorted = [...notes].sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n      setActiveNoteId(sorted[sorted.length - 1].id);\n    }\n  }, [notes]);\n\n  const handleSignOut = async () => {\n    try {\n      if (db) {\n        const tx = db.transaction('notes', 'readwrite');\n        const store = tx.objectStore('notes');\n        await store.clear();\n        await tx.done;\n      }\n\n      if (user.isGuest) {\n        localStorage.removeItem('guestUser');\n      } else {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n        await supabase.auth.clearSession();\n      }\n\n      localStorage.removeItem(`defaultNotes-${user.id}`);\n      localStorage.removeItem('sb-yzgyhdrughpwaqgcgqeu-auth-token');\n\n    } catch (error) {\n      console.error('Error signing out:', error);\n    } finally {\n      if (typeof window !== 'undefined') {\n        window.sessionStorage.clear();\n        window.localStorage.clear();\n      }\n      window.location.href = '/';\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    try {\n      await deleteAccount(db, user.id);\n      window.location.replace('/');\n    } catch (error) {\n      console.error('Error deleting account:', error);\n      alert('Failed to delete account. Please try again.');\n    }\n  };\n\n  const handleTagClick = useCallback((tag) => {\n    // Find first note with this tag\n    const targetNote = notes.find(n => n.content.includes(`#${tag}`));\n    if (targetNote) {\n      const element = document.getElementById(targetNote.id);\n      if (element) {\n        element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    }\n  }, [notes]);\n\n  return (\n    <div className=\"h-screen bg-background overflow-hidden flex flex-col\">\n      {/* \n        Redesign 2.0: No Header. Fixed Left Elements.\n      */}\n\n      {/* Logo: Top Left */}\n      <div className=\"fixed top-8 left-8 z-50 pointer-events-none select-none\">\n        <img\n          src={logo.src}\n          alt=\"Notes\"\n          className=\"w-24 h-5 [filter:invert(0)_sepia(0)_saturate(1)_hue-rotate(0deg)_brightness(0.96)] dark:[filter:invert(1)_sepia(0)_saturate(1)_hue-rotate(0deg)_brightness(1)] text-accent-foreground opacity-80\"\n        />\n      </div>\n\n      {/* Bottom Left Stack: Toggle above Avatar */}\n      <div className=\"fixed bottom-8 left-8 z-50 flex flex-col items-center gap-6\">\n        {/* Theme Toggle */}\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"rounded-full shadow-sm bg-background/50 hover:bg-background border\"\n          onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n        >\n          {theme === \"light\" ? <MoonIcon className=\"h-4 w-4\" /> : <SunIcon className=\"h-4 w-4\" />}\n        </Button>\n\n        {/* User Avatar */}\n        <UserDropdown\n          user={user}\n          onSignOut={handleSignOut}\n          onDeleteAccount={handleDeleteAccount}\n        />\n      </div>\n\n      {/* Main Content Area - Notebook Layout */}\n      {/* No top spacer needed anymore */}\n      <div className=\"flex-1 flex overflow-hidden relative\">\n        <TimelineRail\n          notes={notes}\n          activeNoteId={activeNoteId}\n          tags={allTags}\n          onTagClick={handleTagClick}\n        />\n\n        <TagsRail\n          notes={notes}\n          activeNoteId={activeNoteId}\n          tags={allTags}\n          onTagClick={handleTagClick}\n        />\n\n        <NotebookFeed\n          notes={notes}\n          onUpdateNote={(note, content) => editNote(note, content)}\n          onCreateNote={(content) => addNote(content)}\n          onDeleteNote={(id) => removeNote(id)}\n          onFocusBox={(note) => {\n            if (note) {\n              // Instantly update active ID for specific highlighting\n              setActiveNoteId(note.id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default NoteApp;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2082, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nexport { Card } "],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtD,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yDAAyD;QACtE,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG"}},
    {"offset": {"line": 2114, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/Auth.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\nimport { supabase } from '../lib/supabase';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport logo from '../assets/logo.svg';\n\nexport function Auth() {\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const handleEmailSignIn = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    \n    try {\n      const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          emailRedirectTo: window.location.origin,\n        },\n      });\n      \n      if (error) throw error;\n      \n      setMessage('Check your email for the login link!');\n    } catch (error) {\n      setMessage(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      {/* Header Logo */}\n      <div className=\"p-6\">\n        <div className=\"flex items-center gap-2\">\n          <img \n            src={logo} \n            alt=\"Notes\" \n            className=\"w-24 h-8 dark:invert\"\n          />\n          \n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex items-center justify-center p-6\">\n        <div className=\"w-full max-w-md space-y-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-bold tracking-tight\">\n              Welcome to Notes\n            </h2>\n            <p className=\"mt-2 text-muted-foreground\">\n              Note taking app designed for fast note taking\n            </p>\n          </div>\n\n          <Card className=\"p-6 space-y-4\">\n            <Button \n              variant=\"outline\" \n              className=\"w-full flex items-center justify-center gap-2\"\n              onClick={() => supabase.auth.signInWithOAuth({ provider: 'google' })}\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill=\"#4285F4\"\n                  d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                />\n                <path\n                  fill=\"#34A853\"\n                  d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                />\n                <path\n                  fill=\"#FBBC05\"\n                  d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                />\n                <path\n                  fill=\"#EA4335\"\n                  d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                />\n              </svg>\n              Continue with Google\n            </Button>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <span className=\"w-full border-t\" />\n              </div>\n              <div className=\"relative flex justify-center text-xs uppercase\">\n                <span className=\"bg-background px-2 text-muted-foreground\">\n                  OR\n                </span>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <form onSubmit={handleEmailSignIn} className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"email\">\n                    Email\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                    placeholder=\"Type your email\"\n                    required\n                  />\n                </div>\n                <Button \n                  type=\"submit\" \n                  className=\"w-full\"\n                  disabled={loading}\n                >\n                  {loading ? 'Sending...' : 'Continue with email'}\n                </Button>\n                {message && (\n                  <p className={`text-sm ${message.includes('error') ? 'text-destructive' : 'text-primary'}`}>\n                    {message}\n                  </p>\n                )}\n              </form>\n\n              \n            </div>\n          </Card>\n\n          <div className=\"text-center text-sm text-muted-foreground\">\n            By clicking \"Continue\" you agree to our{' '}\n            <button onClick={() => window.open('/terms', '_blank')} className=\"underline hover:text-primary\">\n              Terms of Service\n            </button>\n            {' '}and{' '}\n            <button onClick={() => window.open('/privacy', '_blank')} className=\"underline hover:text-primary\">\n              Privacy Policy\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"border-t p-6 flex items-center justify-center bg-muted/40\">\n      <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">Designed and developed</span>\n          <a \n            href=\"https://www.shakeb.in\" \n            target=\"_blank\" \n            rel=\"noopener noreferrer\"\n            className=\"font-medium hover:text-primary transition-colors\"\n          >\n            Shakeb\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 2477, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/app/page.js"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport NoteApp from '../components/NoteApp';\nimport { Auth } from '../components/Auth';\nimport { useAuth } from '../contexts/AuthContext';\n\nexport default function Home() {\n  const { user, loading, isGuest } = useAuth();\n\n  if (loading) {\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n  }\n\n  return (user || isGuest) ? <NoteApp user={user} /> : <Auth />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,4IAAO;IAE1C,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAgD;;;;;;IACxE;IAEA,OAAO,AAAC,QAAQ,wBAAW,6LAAC,0IAAO;QAAC,MAAM;;;;;6BAAW,6LAAC,oIAAI;;;;;AAC5D;GARwB;;QACa,4IAAO;;;KADpB"}}]
}