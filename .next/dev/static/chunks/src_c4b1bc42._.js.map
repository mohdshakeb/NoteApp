{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/lib/utils.js"],"sourcesContent":["import { clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs))\n}\n\nexport const formatDate = (date) => {\n  const now = new Date();\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n  date = new Date(date);\n\n  if (date >= today) {\n    return 'Today';\n  } else if (date >= yesterday) {\n    return 'Yesterday';\n  } else {\n    return date.toLocaleDateString('en-US', {\n      weekday: 'short',\n      day: 'numeric',\n      month: 'short'\n    });\n  }\n}; "],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAM;IAC1B,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,MAAM,aAAa,CAAC;IACzB,MAAM,MAAM,IAAI;IAChB,MAAM,QAAQ,IAAI,KAAK,IAAI,WAAW,IAAI,IAAI,QAAQ,IAAI,IAAI,OAAO;IACrE,MAAM,YAAY,IAAI,KAAK;IAC3B,UAAU,OAAO,CAAC,UAAU,OAAO,KAAK;IACxC,OAAO,IAAI,KAAK;IAEhB,IAAI,QAAQ,OAAO;QACjB,OAAO;IACT,OAAO,IAAI,QAAQ,WAAW;QAC5B,OAAO;IACT,OAAO;QACL,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,SAAS;YACT,KAAK;YACL,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/TimelineRail.jsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../lib/utils';\n\n// Helper to find the first note ID for a given date\nconst getNoteIdForDate = (notes, year, month, day) => {\n    const note = notes.find(n => {\n        const d = new Date(n.createdAt);\n        return d.getFullYear() === year && d.getMonth() === month && d.getDate() === day;\n    });\n    return note ? note.id : null;\n};\n\nexport const TimelineRail = ({ notes, activeNoteId, tags, onTagClick }) => {\n    // Group notes by sorted keys to render in order\n    // But we don't display the group headers anymore.\n    // Flatten dates into a sorted array for the sliding window\n    // Flatten dates into a sorted array for the sliding window\n    // We compute this directly from the notes prop now, skipping the intermediate 'groupedDates' object\n    const allDates = React.useMemo(() => {\n        const uniqueDates = new Set();\n        const flat = [];\n\n        // 1. Extract unique dates\n        notes.forEach(note => {\n            const d = new Date(note.createdAt);\n            const key = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\n            if (!uniqueDates.has(key)) {\n                uniqueDates.add(key);\n                flat.push({\n                    year: d.getFullYear(),\n                    month: d.getMonth(),\n                    day: d.getDate(),\n                    key: key\n                });\n            }\n        });\n\n        // 2. Sort them broadly by time (Oldest -> Newest)\n        return flat.sort((a, b) => {\n            const dateA = new Date(a.year, a.month, a.day);\n            const dateB = new Date(b.year, b.month, b.day);\n            return dateA - dateB;\n        });\n    }, [notes]);\n\n    // Added activeDateKey back for window calculation\n    const activeDateKey = React.useMemo(() => {\n        if (!activeNoteId) return null;\n        const note = notes.find(n => n.id === activeNoteId);\n        if (!note) return null;\n        const d = new Date(note.createdAt);\n        return `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\n    }, [activeNoteId, notes]);\n\n    // Calculate Sliding Window (Limit to 25 items, centered on active date)\n    const windowedDates = React.useMemo(() => {\n        if (!activeDateKey || allDates.length <= 25) return allDates;\n\n        const activeIndex = allDates.findIndex(d => d.key === activeDateKey);\n        if (activeIndex === -1) return allDates.slice(0, 25); // Fallback to start\n\n        // Center the window: activeIndex is in the middle (~12th item)\n        let start = activeIndex - 12;\n        let end = activeIndex + 13; // Total 25\n\n        // Clamp bounds\n        if (start < 0) {\n            start = 0;\n            end = 25;\n        }\n        if (end > allDates.length) {\n            end = allDates.length;\n            start = Math.max(0, end - 25);\n        }\n\n        return allDates.slice(start, end);\n    }, [allDates, activeDateKey]);\n\n\n    const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    return (\n        // Adjusted vertical constraints to avoid overlapping Logo (Top) and Avatar/Toggle (Bottom)\n        <div className=\"fixed left-8 top-24 bottom-32 w-24 z-40 hidden sm:flex flex-col justify-center pointer-events-none\">\n            {/* Inner container for scrolling if needed, max height constraint */}\n            <div className=\"max-h-full overflow-y-auto no-scrollbar py-4 flex flex-col items-center\">\n                <div className=\"flex flex-col gap-1 w-full px-2\">\n                    {windowedDates.map(({ year, month, day, key }) => {\n                        const isSameDate = activeDateKey === key;\n                        const handleDateClick = () => {\n                            const noteId = getNoteIdForDate(notes, parseInt(year), parseInt(month), day);\n                            if (noteId) {\n                                const element = document.getElementById(noteId);\n                                if (element) {\n                                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                                }\n                            }\n                        };\n\n                        return (\n                            <div\n                                key={key}\n                                onClick={handleDateClick}\n                                className=\"group flex items-center justify-start w-full gap-3 h-3 cursor-pointer pointer-events-auto\"\n                            >\n                                {/* Ruler Tick (Left side) */}\n                                <div className={cn(\n                                    \"h-[1.5px] rounded-full transition-all duration-300 group-hover:w-6 group-hover:bg-foreground group-hover:opacity-100\",\n                                    isSameDate\n                                        ? \"w-6 bg-foreground opacity-100\"\n                                        : \"w-2 bg-muted-foreground opacity-30\"\n                                )} />\n\n                                {/* Date Label (Appears on Right of tick) */}\n                                <span className={cn(\n                                    \"text-[11px] font-mono tracking-wide transition-all duration-300 whitespace-nowrap group-hover:opacity-100 group-hover:translate-x-0 group-hover:text-foreground\",\n                                    isSameDate\n                                        ? \"opacity-100 text-foreground translate-x-0\"\n                                        : \"opacity-0 text-muted-foreground -translate-x-4\"\n                                )}>\n                                    {monthNames[parseInt(month)]} {day}\n                                </span>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/button.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\"\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n  return (\n    <Comp\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants } "],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,2KAAgB,MAAC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxF,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/lib/colors.js"],"sourcesContent":["// Deterministic color assignment for tags\nconst PALETTE = [\n    {\n        bg: \"bg-yellow-200/50 dark:bg-yellow-900/40\",\n        text: \"text-yellow-900 dark:text-yellow-100\",\n        tick: \"bg-yellow-500 dark:bg-yellow-400\"\n    },\n    {\n        bg: \"bg-green-200/50 dark:bg-green-900/40\",\n        text: \"text-green-900 dark:text-green-100\",\n        tick: \"bg-green-600 dark:bg-green-400\"\n    },\n    {\n        bg: \"bg-blue-200/50 dark:bg-blue-900/40\",\n        text: \"text-blue-900 dark:text-blue-100\",\n        tick: \"bg-blue-600 dark:bg-blue-400\"\n    },\n    {\n        bg: \"bg-pink-200/50 dark:bg-pink-900/40\",\n        text: \"text-pink-900 dark:text-pink-100\",\n        tick: \"bg-pink-500 dark:bg-pink-400\"\n    },\n    {\n        bg: \"bg-purple-200/50 dark:bg-purple-900/40\",\n        text: \"text-purple-900 dark:text-purple-100\",\n        tick: \"bg-purple-600 dark:bg-purple-400\"\n    },\n    {\n        bg: \"bg-orange-200/50 dark:bg-orange-900/40\",\n        text: \"text-orange-900 dark:text-orange-100\",\n        tick: \"bg-orange-500 dark:bg-orange-400\"\n    },\n    {\n        bg: \"bg-teal-200/50 dark:bg-teal-900/40\",\n        text: \"text-teal-900 dark:text-teal-100\",\n        tick: \"bg-teal-600 dark:bg-teal-400\"\n    },\n    {\n        bg: \"bg-rose-200/50 dark:bg-rose-900/40\",\n        text: \"text-rose-900 dark:text-rose-100\",\n        tick: \"bg-rose-500 dark:bg-rose-400\"\n    },\n];\n\nexport const getTagMeta = (tagName) => {\n    if (!tagName) return PALETTE[0];\n    let hash = 0;\n    for (let i = 0; i < tagName.length; i++) {\n        hash = tagName.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const index = Math.abs(hash) % PALETTE.length;\n    return PALETTE[index];\n};\n\nexport const getTagColor = (tagName) => {\n    const meta = getTagMeta(tagName);\n    return `${meta.bg} ${meta.text}`;\n};\n"],"names":[],"mappings":";;;;;;AAAA,0CAA0C;AAC1C,MAAM,UAAU;IACZ;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;IACV;CACH;AAEM,MAAM,aAAa,CAAC;IACvB,IAAI,CAAC,SAAS,OAAO,OAAO,CAAC,EAAE;IAC/B,IAAI,OAAO;IACX,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;QACrC,OAAO,QAAQ,UAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI;IACtD;IACA,MAAM,QAAQ,KAAK,GAAG,CAAC,QAAQ,QAAQ,MAAM;IAC7C,OAAO,OAAO,CAAC,MAAM;AACzB;AAEO,MAAM,cAAc,CAAC;IACxB,MAAM,OAAO,WAAW;IACxB,OAAO,GAAG,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,EAAE;AACpC"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/TagsRail.jsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../lib/utils';\nimport { Button } from \"./ui/button\";\nimport { getTagMeta } from '../lib/colors';\n\nexport const TagsRail = ({ notes, activeNoteId, tags = [], onTagClick }) => {\n    // Get active tags for the current note\n    const activeTags = React.useMemo(() => {\n        if (!activeNoteId) return new Set();\n        const note = notes.find(n => n.id === activeNoteId);\n        if (!note) return new Set();\n\n        // Extract tags from note content (naive regex or pre-parsed?)\n        // Assuming tags are hashtags like #tag\n        const found = note.content.match(/#[\\w-]+/g) || [];\n        // Clean them (remove #)\n        return new Set(found.map(t => t.slice(1)));\n    }, [activeNoteId, notes]);\n\n    // Sort tags alphabetically? Or by frequency?\n    // Let's stick to alphabetical for stability.\n    const sortedTags = React.useMemo(() => {\n        return [...tags].sort();\n    }, [tags]);\n\n    // Sliding Window Logic for Tags\n    const windowedTags = React.useMemo(() => {\n        if (!activeTags.size || tags.length <= 25) return sortedTags;\n\n        // Find the index of the first active tag in the sorted list\n        // This acts as our \"center of gravity\"\n        const firstActiveTag = sortedTags.find(t => activeTags.has(t));\n        const activeIndex = sortedTags.indexOf(firstActiveTag);\n\n        if (activeIndex === -1) return sortedTags.slice(0, 25);\n\n        // Center (~12th item)\n        let start = activeIndex - 12;\n        let end = activeIndex + 13;\n\n        // Clamp\n        if (start < 0) {\n            start = 0;\n            end = 25;\n        }\n        if (end > sortedTags.length) {\n            end = sortedTags.length;\n            start = Math.max(0, end - 25);\n        }\n\n        return sortedTags.slice(start, end);\n    }, [sortedTags, activeTags, tags.length]);\n\n    if (!tags || tags.length === 0) return null;\n\n    return (\n        <div className=\"fixed right-8 top-24 bottom-32 w-48 z-40 hidden sm:flex flex-col justify-center pointer-events-none\">\n            {/* Inner container with scroll if needed */}\n            <div className=\"max-h-full overflow-y-auto no-scrollbar py-4 flex flex-col items-center\">\n                <div className=\"flex flex-col gap-1 w-full px-2\">\n                    {windowedTags.map(tag => {\n                        const isActive = activeTags.has(tag);\n                        const meta = getTagMeta(tag);\n\n                        return (\n                            <div\n                                key={tag}\n                                onClick={() => onTagClick(tag)}\n                                className=\"group flex items-center justify-end w-full gap-3 h-3 cursor-pointer pointer-events-auto\"\n                            >\n                                {/* Tag Label (Appears on LEFT of tick for Right Rail) */}\n                                <span className={cn(\n                                    \"text-[11px] font-mono tracking-wide transition-all duration-300 whitespace-nowrap\",\n                                    isActive\n                                        ? `opacity-100 translate-x-0 ${meta.text}`\n                                        : \"opacity-0 text-muted-foreground translate-x-4 group-hover:opacity-100 group-hover:translate-x-0 group-hover:text-foreground\"\n                                )}>\n                                    {tag}\n                                </span>\n\n                                {/* Ruler Tick (Right side) */}\n                                <div className={cn(\n                                    \"shrink-0 h-[2px] rounded-full transition-all duration-300 opacity-100\",\n                                    meta.tick, // Always apply the color\n                                    isActive\n                                        ? \"w-6\" // Active: Wide\n                                        : \"w-3 group-hover:w-6\" // Inactive: Short, expands on hover\n                                )} />\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,WAAW,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,OAAO,EAAE,EAAE,UAAU,EAAE;;IACnE,uCAAuC;IACvC,MAAM,aAAa,wKAAK,CAAC,OAAO;wCAAC;YAC7B,IAAI,CAAC,cAAc,OAAO,IAAI;YAC9B,MAAM,OAAO,MAAM,IAAI;qDAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;YACtC,IAAI,CAAC,MAAM,OAAO,IAAI;YAEtB,8DAA8D;YAC9D,uCAAuC;YACvC,MAAM,QAAQ,KAAK,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE;YAClD,wBAAwB;YACxB,OAAO,IAAI,IAAI,MAAM,GAAG;gDAAC,CAAA,IAAK,EAAE,KAAK,CAAC;;QAC1C;uCAAG;QAAC;QAAc;KAAM;IAExB,6CAA6C;IAC7C,6CAA6C;IAC7C,MAAM,aAAa,wKAAK,CAAC,OAAO;wCAAC;YAC7B,OAAO;mBAAI;aAAK,CAAC,IAAI;QACzB;uCAAG;QAAC;KAAK;IAET,gCAAgC;IAChC,MAAM,eAAe,wKAAK,CAAC,OAAO;0CAAC;YAC/B,IAAI,CAAC,WAAW,IAAI,IAAI,KAAK,MAAM,IAAI,IAAI,OAAO;YAElD,4DAA4D;YAC5D,uCAAuC;YACvC,MAAM,iBAAiB,WAAW,IAAI;iEAAC,CAAA,IAAK,WAAW,GAAG,CAAC;;YAC3D,MAAM,cAAc,WAAW,OAAO,CAAC;YAEvC,IAAI,gBAAgB,CAAC,GAAG,OAAO,WAAW,KAAK,CAAC,GAAG;YAEnD,sBAAsB;YACtB,IAAI,QAAQ,cAAc;YAC1B,IAAI,MAAM,cAAc;YAExB,QAAQ;YACR,IAAI,QAAQ,GAAG;gBACX,QAAQ;gBACR,MAAM;YACV;YACA,IAAI,MAAM,WAAW,MAAM,EAAE;gBACzB,MAAM,WAAW,MAAM;gBACvB,QAAQ,KAAK,GAAG,CAAC,GAAG,MAAM;YAC9B;YAEA,OAAO,WAAW,KAAK,CAAC,OAAO;QACnC;yCAAG;QAAC;QAAY;QAAY,KAAK,MAAM;KAAC;IAExC,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG,OAAO;IAEvC,qBACI,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;0BACV,aAAa,GAAG,CAAC,CAAA;oBACd,MAAM,WAAW,WAAW,GAAG,CAAC;oBAChC,MAAM,OAAO,IAAA,qIAAU,EAAC;oBAExB,qBACI,6LAAC;wBAEG,SAAS,IAAM,WAAW;wBAC1B,WAAU;;0CAGV,6LAAC;gCAAK,WAAW,IAAA,4HAAE,EACf,qFACA,WACM,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE,GACxC;0CAEL;;;;;;0CAIL,6LAAC;gCAAI,WAAW,IAAA,4HAAE,EACd,yEACA,KAAK,IAAI,EACT,WACM,MAAM,eAAe;mCACrB,sBAAsB,oCAAoC;;;;;;;;uBApB/D;;;;;gBAwBjB;;;;;;;;;;;;;;;;AAKpB;GA1Fa;KAAA"}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/TagNavigator.jsx"],"sourcesContent":["import React from 'react';\nimport { ChevronUp, ChevronDown, X } from 'lucide-react';\nimport { Button } from './ui/button';\nimport { cn } from '../lib/utils';\nimport { getTagMeta } from '../lib/colors';\n\nexport const TagNavigator = ({\n    tag,\n    currentIndex,\n    totalMatches,\n    onNext,\n    onPrev,\n    onClose\n}) => {\n    if (!tag) return null;\n\n    const meta = getTagMeta(tag);\n\n    return (\n        <div className=\"fixed bottom-8 right-8 z-50 animate-in fade-in slide-in-from-bottom-4 duration-300\">\n            <div className=\"flex items-center gap-2 px-3 py-2 bg-background border rounded-full shadow-lg\">\n                <div className=\"flex items-center gap-2 pl-1 pr-3 border-r relative group\">\n                    {/* Tag colored dot */}\n                    <div className={cn(\"w-2 h-2 rounded-full\", meta.tick)} />\n                    <span className={cn(\"text-sm font-medium\", meta.text)}>\n                        #{tag}\n                    </span>\n                    <span className=\"text-xs text-muted-foreground font-mono ml-1\">\n                        {currentIndex + 1} / {totalMatches}\n                    </span>\n\n                    {/* Close button (Hidden until hover? Or always visible? Let's make it always visible but minimal) \n                         Wait, the design says \"Next/Prev/Close\".\n                         Let's put Close at the end.\n                     */}\n                </div>\n\n                <div className=\"flex items-center gap-1\">\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-6 w-6 rounded-full hover:bg-muted\"\n                        onClick={onPrev}\n                        disabled={totalMatches <= 1}\n                    >\n                        <ChevronUp className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-6 w-6 rounded-full hover:bg-muted\"\n                        onClick={onNext}\n                        disabled={totalMatches <= 1}\n                    >\n                        <ChevronDown className=\"h-4 w-4\" />\n                    </Button>\n\n                    <div className=\"w-[1px] h-4 bg-border mx-1\" />\n\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-6 w-6 rounded-full hover:bg-destructive/10 hover:text-destructive\"\n                        onClick={onClose}\n                    >\n                        <X className=\"h-3.5 w-3.5\" />\n                    </Button>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,eAAe,CAAC,EACzB,GAAG,EACH,YAAY,EACZ,YAAY,EACZ,MAAM,EACN,MAAM,EACN,OAAO,EACV;IACG,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,OAAO,IAAA,qIAAU,EAAC;IAExB,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAI,WAAW,IAAA,4HAAE,EAAC,wBAAwB,KAAK,IAAI;;;;;;sCACpD,6LAAC;4BAAK,WAAW,IAAA,4HAAE,EAAC,uBAAuB,KAAK,IAAI;;gCAAG;gCACjD;;;;;;;sCAEN,6LAAC;4BAAK,WAAU;;gCACX,eAAe;gCAAE;gCAAI;;;;;;;;;;;;;8BAS9B,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,+IAAM;4BACH,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;4BACT,UAAU,gBAAgB;sCAE1B,cAAA,6LAAC,gOAAS;gCAAC,WAAU;;;;;;;;;;;sCAEzB,6LAAC,+IAAM;4BACH,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;4BACT,UAAU,gBAAgB;sCAE1B,cAAA,6LAAC,sOAAW;gCAAC,WAAU;;;;;;;;;;;sCAG3B,6LAAC;4BAAI,WAAU;;;;;;sCAEf,6LAAC,+IAAM;4BACH,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;sCAET,cAAA,6LAAC,oMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrC;KAjEa"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/dropdown.jsx"],"sourcesContent":["import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { cn } from \"../../lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\nconst DropdownMenuSeparator = DropdownMenuPrimitive.Separator\n\nconst DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      collisionPadding={8}\n      avoidCollisions={true}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuGroup,\n} "],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,eAAe,uLAA0B;AAC/C,MAAM,sBAAsB,0LAA6B;AACzD,MAAM,oBAAoB,wLAA2B;AACrD,MAAM,wBAAwB,4LAA+B;AAE7D,MAAM,oCAAsB,2KAAgB,MAAC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBACrF,6LAAC,yLAA4B;kBAC3B,cAAA,6LAAC,0LAA6B;YAC5B,KAAK;YACL,YAAY;YACZ,kBAAkB;YAClB,iBAAiB;YACjB,WAAW,IAAA,4HAAE,EACX,ybACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,oBAAoB,WAAW,GAAG,0LAA6B,CAAC,WAAW;AAE3E,MAAM,iCAAmB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACzE,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mOACA,SAAS,QACT;QAED,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW"}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/alert-dialog.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\nimport { cn } from \"../../lib/utils\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n} "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,cAAc,sLAAyB;AAC7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACpE,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAPH;AAUN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACpE,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACJ,iBACC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACJ,iBACC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAClE,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxE,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAAG,6LAAgC,CAAC,WAAW;AAEjF,MAAM,kCAAoB,2KAAgB,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACnE,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,gVACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACnE,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wWACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 895, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/UserDropdown.jsx"],"sourcesContent":["\"use client\"\nimport { Button } from \"./button\"\nimport { useState } from \"react\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"./dropdown\"\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from \"./alert-dialog\"\n\nexport function UserDropdown({ user, onSignOut, onDeleteAccount }) {\n  const [dropdownOpen, setDropdownOpen] = useState(false)\n  const [alertOpen, setAlertOpen] = useState(false)\n\n  const handleDeleteClick = () => {\n    setDropdownOpen(false)\n    setAlertOpen(true)\n  }\n\n  const handleConfirmDelete = async () => {\n    try {\n      await onDeleteAccount()\n    } catch (error) {\n      console.error('Error deleting account:', error)\n    } finally {\n      setAlertOpen(false)\n    }\n  }\n\n  return (\n    <>\n      <DropdownMenu open={dropdownOpen} onOpenChange={setDropdownOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button \n            variant=\"ghost\" \n            size=\"icon\"\n            className=\"focus-visible:ring-0 focus-visible:ring-offset-0 relative\"\n          >\n            {user?.user_metadata?.avatar_url ? (\n              <img \n                src={user.user_metadata.avatar_url} \n                alt={user.email}\n                className=\"w-8 h-8 rounded-full\"\n              />\n            ) : (\n              <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium\">\n                {(user?.user_metadata?.full_name?.charAt(0) || user?.email?.charAt(0) || 'U').toUpperCase()}\n              </div>\n            )}\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent \n          align=\"end\"\n          alignOffset={0}  // This ensures exact alignment\n          sideOffset={8}\n          className=\"w-56\"\n          forceMount\n        >\n          <div className=\"px-2 py-1.5\">\n            <div className=\"font-medium\">{user.user_metadata?.full_name}</div>\n            <div className=\"text-xs text-muted-foreground\">\n              {user.email}\n            </div>\n          </div>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem \n            onClick={onSignOut}\n            className=\"text-muted-foreground focus:text-muted-foreground\"\n          >\n            Sign out\n          </DropdownMenuItem>\n          {!user.isGuest && (\n            <DropdownMenuItem\n              className=\"text-destructive focus:text-destructive\"\n              onSelect={(e) => {\n                e.preventDefault()\n                handleDeleteClick()\n              }}\n            >\n              Delete Account\n            </DropdownMenuItem>\n          )}\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <AlertDialog open={alertOpen} onOpenChange={setAlertOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This action cannot be undone. This will permanently delete your\n              account and remove all your data from our servers.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setAlertOpen(false)}>\n              Cancel\n            </AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleConfirmDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Delete Account\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAOA;;;AAVA;;;;;AAYO,SAAS,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE;;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,oBAAoB;QACxB,gBAAgB;QAChB,aAAa;IACf;IAEA,MAAM,sBAAsB;QAC1B,IAAI;YACF,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE;;0BACE,6LAAC,uJAAY;gBAAC,MAAM;gBAAc,cAAc;;kCAC9C,6LAAC,8JAAmB;wBAAC,OAAO;kCAC1B,cAAA,6LAAC,+IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;sCAET,MAAM,eAAe,2BACpB,6LAAC;gCACC,KAAK,KAAK,aAAa,CAAC,UAAU;gCAClC,KAAK,KAAK,KAAK;gCACf,WAAU;;;;;qDAGZ,6LAAC;gCAAI,WAAU;0CACZ,CAAC,MAAM,eAAe,WAAW,OAAO,MAAM,MAAM,OAAO,OAAO,MAAM,GAAG,EAAE,WAAW;;;;;;;;;;;;;;;;kCAKjG,6LAAC,8JAAmB;wBAClB,OAAM;wBACN,aAAa;wBACb,YAAY;wBACZ,WAAU;wBACV,UAAU;;0CAEV,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAe,KAAK,aAAa,EAAE;;;;;;kDAClD,6LAAC;wCAAI,WAAU;kDACZ,KAAK,KAAK;;;;;;;;;;;;0CAGf,6LAAC,gKAAqB;;;;;0CACtB,6LAAC,2JAAgB;gCACf,SAAS;gCACT,WAAU;0CACX;;;;;;4BAGA,CAAC,KAAK,OAAO,kBACZ,6LAAC,2JAAgB;gCACf,WAAU;gCACV,UAAU,CAAC;oCACT,EAAE,cAAc;oCAChB;gCACF;0CACD;;;;;;;;;;;;;;;;;;0BAOP,6LAAC,6JAAW;gBAAC,MAAM;gBAAW,cAAc;0BAC1C,cAAA,6LAAC,oKAAkB;;sCACjB,6LAAC,mKAAiB;;8CAChB,6LAAC,kKAAgB;8CAAC;;;;;;8CAClB,6LAAC,wKAAsB;8CAAC;;;;;;;;;;;;sCAK1B,6LAAC,mKAAiB;;8CAChB,6LAAC,mKAAiB;oCAAC,SAAS,IAAM,aAAa;8CAAQ;;;;;;8CAGvD,6LAAC,mKAAiB;oCAChB,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAnGgB;KAAA"}},
    {"offset": {"line": 1113, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/MobileNavPill.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { cn } from '../lib/utils';\nimport { ChevronUp } from 'lucide-react';\nimport { UserDropdown } from './ui/UserDropdown';\n\nexport const MobileNavPill = ({\n    notes,\n    activeNoteId,\n    isVisible = true,\n    user,\n    onSignOut,\n    onDeleteAccount,\n    onDateClick,\n    onTagsClick\n}) => {\n    // Derive active date from activeNoteId\n    const activeDate = useMemo(() => {\n        if (!activeNoteId) return null;\n        const note = notes.find(n => n.id === activeNoteId);\n        if (!note) return null;\n        return new Date(note.createdAt);\n    }, [activeNoteId, notes]);\n\n    // Format date: \"Jan 12\" (No Year)\n    const dateLabel = useMemo(() => {\n        if (!activeDate) return \"Timeline\";\n        return activeDate.toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric'\n        });\n    }, [activeDate]);\n\n    // Visual: 3 overlapping circles for tags\n    const tagCircles = (\n        <div className=\"flex items-center -space-x-2\">\n            <div className=\"w-6 h-6 rounded-full border-2 border-background bg-blue-400 opacity-90\" />\n            <div className=\"w-6 h-6 rounded-full border-2 border-background bg-pink-400 opacity-90\" />\n            <div className=\"w-6 h-6 rounded-full border-2 border-background bg-yellow-400 opacity-90\" />\n        </div>\n    );\n\n    return (\n        <div className={cn(\n            \"fixed bottom-6 inset-x-4 z-50 transition-all duration-300 sm:hidden\",\n            isVisible ? \"translate-y-0 opacity-100\" : \"translate-y-20 opacity-0 pointer-events-none\"\n        )}>\n            <div className=\"flex items-center justify-between w-full h-[54px] bg-background border border-border/50 rounded-full shadow-lg px-2 pl-4\">\n\n                {/* Date Side (Left) */}\n                <button\n                    onClick={onDateClick}\n                    className=\"flex items-center gap-2 text-sm font-medium active:opacity-70 transition-opacity\"\n                >\n                    <span className=\"text-foreground\">{dateLabel}</span>\n                    <ChevronUp className=\"w-3 h-3 text-muted-foreground\" />\n                </button>\n\n                {/* Right Side: Tags + Avatar */}\n                <div className=\"flex items-center gap-3\">\n                    {/* Tags Trigger */}\n                    <button\n                        onClick={onTagsClick}\n                        className=\"flex items-center active:scale-95 transition-transform p-1\"\n                    >\n                        {tagCircles}\n                    </button>\n\n                    {/* Divider */}\n                    <div className=\"w-[1px] h-5 bg-border\" />\n\n                    {/* User Avatar */}\n                    <div className=\"flex items-center\">\n                        <UserDropdown\n                            user={user}\n                            onSignOut={onSignOut}\n                            onDeleteAccount={onDeleteAccount}\n                            align=\"end\" // Align dropdown to right\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,gBAAgB,CAAC,EAC1B,KAAK,EACL,YAAY,EACZ,YAAY,IAAI,EAChB,IAAI,EACJ,SAAS,EACT,eAAe,EACf,WAAW,EACX,WAAW,EACd;;IACG,uCAAuC;IACvC,MAAM,aAAa,IAAA,wKAAO;6CAAC;YACvB,IAAI,CAAC,cAAc,OAAO;YAC1B,MAAM,OAAO,MAAM,IAAI;0DAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;YACtC,IAAI,CAAC,MAAM,OAAO;YAClB,OAAO,IAAI,KAAK,KAAK,SAAS;QAClC;4CAAG;QAAC;QAAc;KAAM;IAExB,kCAAkC;IAClC,MAAM,YAAY,IAAA,wKAAO;4CAAC;YACtB,IAAI,CAAC,YAAY,OAAO;YACxB,OAAO,WAAW,kBAAkB,CAAC,SAAS;gBAC1C,OAAO;gBACP,KAAK;YACT;QACJ;2CAAG;QAAC;KAAW;IAEf,yCAAyC;IACzC,MAAM,2BACF,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAI,WAAU;;;;;;;;;;;;IAIvB,qBACI,6LAAC;QAAI,WAAW,IAAA,4HAAE,EACd,uEACA,YAAY,8BAA8B;kBAE1C,cAAA,6LAAC;YAAI,WAAU;;8BAGX,6LAAC;oBACG,SAAS;oBACT,WAAU;;sCAEV,6LAAC;4BAAK,WAAU;sCAAmB;;;;;;sCACnC,6LAAC,gOAAS;4BAAC,WAAU;;;;;;;;;;;;8BAIzB,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BACG,SAAS;4BACT,WAAU;sCAET;;;;;;sCAIL,6LAAC;4BAAI,WAAU;;;;;;sCAGf,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,2JAAY;gCACT,MAAM;gCACN,WAAW;gCACX,iBAAiB;gCACjB,OAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC;GA9Ea;KAAA"}},
    {"offset": {"line": 1282, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/MobileDrawers.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { cn } from '../lib/utils';\nimport { X } from 'lucide-react';\nimport { Button } from './ui/button';\nimport { getTagMeta } from '../lib/colors';\n\nexport const MobileDrawers = ({\n    isOpen,\n    type, // 'date' | 'tags'\n    notes,\n    activeNoteId,\n    tags,\n    onClose,\n    onSelectDate,\n    onSelectTag\n}) => {\n    // Shared Overlay\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-[60] sm:hidden\">\n            {/* Backdrop */}\n            <div\n                className=\"absolute inset-0 bg-background/80 backdrop-blur-sm animate-in fade-in duration-200\"\n                onClick={onClose}\n            />\n\n            {/* Sheet */}\n            <div className=\"absolute bottom-0 left-0 right-0 bg-background border-t rounded-t-3xl shadow-2xl max-h-[80vh] flex flex-col animate-in slide-in-from-bottom duration-300\">\n\n                {/* Header */}\n                <div className=\"flex items-center justify-between p-4 border-b\">\n                    <h2 className=\"text-lg font-semibold font-mono\">\n                        {type === 'date' ? 'Timeline' : 'Tags'}\n                    </h2>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={onClose} className=\"rounded-full\">\n                        <X className=\"h-5 w-5\" />\n                    </Button>\n                </div>\n\n                {/* Content */}\n                <div className=\"overflow-y-auto p-4 flex flex-col gap-2 min-h-[50vh]\">\n                    {type === 'date' && <DateList notes={notes} activeNoteId={activeNoteId} onSelect={onSelectDate} />}\n                    {type === 'tags' && <TagList tags={tags} onSelect={onSelectTag} />}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst DateList = ({ notes, activeNoteId, onSelect }) => {\n    // Unique dates extraction (copied logic from TimelineRail roughly)\n    const dates = useMemo(() => {\n        const unique = new Set();\n        const list = [];\n        notes.forEach(note => {\n            const d = new Date(note.createdAt);\n            const key = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`;\n            if (!unique.has(key)) {\n                unique.add(key);\n                list.push({ d, key });\n            }\n        });\n        return list.sort((a, b) => a.d - b.d);\n    }, [notes]);\n\n    return (\n        <div className=\"flex flex-col gap-2\">\n            {dates.map(({ d, key }) => {\n                const label = d.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });\n                return (\n                    <button\n                        key={key}\n                        onClick={() => onSelect(d)}\n                        className=\"p-3 text-left rounded-lg hover:bg-muted text-sm font-mono border border-transparent hover:border-border transition-all\"\n                    >\n                        {label}\n                    </button>\n                );\n            })}\n        </div>\n    );\n};\n\nconst TagList = ({ tags, onSelect }) => {\n    return (\n        <div className=\"flex flex-wrap gap-2\">\n            {tags.map(tag => {\n                const meta = getTagMeta(tag);\n                return (\n                    <button\n                        key={tag}\n                        onClick={() => onSelect(tag)}\n                        className={cn(\n                            \"px-3 py-1.5 rounded-full text-sm font-medium border transition-all\",\n                            \"hover:opacity-80\",\n                            meta.bg, meta.text, \"border-transparent\"\n                            // Using the colored pill style for the list to be vibrant\n                        )}\n                    >\n                        #{tag}\n                    </button>\n                );\n            })}\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEO,MAAM,gBAAgB,CAAC,EAC1B,MAAM,EACN,IAAI,EACJ,KAAK,EACL,YAAY,EACZ,IAAI,EACJ,OAAO,EACP,YAAY,EACZ,WAAW,EACd;IACG,iBAAiB;IACjB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBACG,WAAU;gBACV,SAAS;;;;;;0BAIb,6LAAC;gBAAI,WAAU;;kCAGX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CACT,SAAS,SAAS,aAAa;;;;;;0CAEpC,6LAAC,+IAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAO,SAAS;gCAAS,WAAU;0CAC5D,cAAA,6LAAC,oMAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKrB,6LAAC;wBAAI,WAAU;;4BACV,SAAS,wBAAU,6LAAC;gCAAS,OAAO;gCAAO,cAAc;gCAAc,UAAU;;;;;;4BACjF,SAAS,wBAAU,6LAAC;gCAAQ,MAAM;gCAAM,UAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKvE;KA1Ca;AA4Cb,MAAM,WAAW,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,EAAE;;IAC/C,mEAAmE;IACnE,MAAM,QAAQ,IAAA,wKAAO;mCAAC;YAClB,MAAM,SAAS,IAAI;YACnB,MAAM,OAAO,EAAE;YACf,MAAM,OAAO;2CAAC,CAAA;oBACV,MAAM,IAAI,IAAI,KAAK,KAAK,SAAS;oBACjC,MAAM,MAAM,GAAG,EAAE,WAAW,GAAG,CAAC,EAAE,EAAE,QAAQ,GAAG,CAAC,EAAE,EAAE,OAAO,IAAI;oBAC/D,IAAI,CAAC,OAAO,GAAG,CAAC,MAAM;wBAClB,OAAO,GAAG,CAAC;wBACX,KAAK,IAAI,CAAC;4BAAE;4BAAG;wBAAI;oBACvB;gBACJ;;YACA,OAAO,KAAK,IAAI;2CAAC,CAAC,GAAG,IAAM,EAAE,CAAC,GAAG,EAAE,CAAC;;QACxC;kCAAG;QAAC;KAAM;IAEV,qBACI,6LAAC;QAAI,WAAU;kBACV,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE;YAClB,MAAM,QAAQ,EAAE,kBAAkB,CAAC,SAAS;gBAAE,SAAS;gBAAS,OAAO;gBAAS,KAAK;gBAAW,MAAM;YAAU;YAChH,qBACI,6LAAC;gBAEG,SAAS,IAAM,SAAS;gBACxB,WAAU;0BAET;eAJI;;;;;QAOjB;;;;;;AAGZ;GAhCM;MAAA;AAkCN,MAAM,UAAU,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;IAC/B,qBACI,6LAAC;QAAI,WAAU;kBACV,KAAK,GAAG,CAAC,CAAA;YACN,MAAM,OAAO,IAAA,qIAAU,EAAC;YACxB,qBACI,6LAAC;gBAEG,SAAS,IAAM,SAAS;gBACxB,WAAW,IAAA,4HAAE,EACT,sEACA,oBACA,KAAK,EAAE,EAAE,KAAK,IAAI,EAAE;;oBAG3B;oBACK;;eATG;;;;;QAYjB;;;;;;AAGZ;MAtBM"}},
    {"offset": {"line": 1480, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/extensions/TagHighlight.js"],"sourcesContent":["import { Extension } from '@tiptap/core';\nimport { Plugin } from 'prosemirror-state';\nimport { Decoration, DecorationSet } from 'prosemirror-view';\nimport { getTagColor } from '../../lib/colors';\n\n// Helper function to find tags\nfunction findTags(doc) {\n    const decorations = [];\n    doc.descendants((node, pos) => {\n        if (node.isText) {\n            const text = node.text;\n            // Regex to match #tags\n            const regex = /(?:^|\\s)(#[\\w-]+)/g;\n            let match;\n            while ((match = regex.exec(text)) !== null) {\n                // Calculate correct positions\n                // match[0] might include leading space.\n                // We want to color only the #tag part.\n                const matchText = match[1];\n                const startIndex = match.index + match[0].indexOf(matchText);\n                const from = pos + startIndex;\n                const to = from + matchText.length;\n\n                const tagName = matchText.substring(1); // remove #\n                const colorClass = getTagColor(tagName);\n\n                decorations.push(\n                    Decoration.inline(from, to, {\n                        class: `rounded px-0.5 -mx-0.5 ${colorClass}`,\n                    })\n                );\n            }\n        }\n    });\n    return DecorationSet.create(doc, decorations);\n}\n\nexport const TagHighlight = Extension.create({\n    name: 'tagHighlight',\n\n    addProseMirrorPlugins() {\n        return [\n            new Plugin({\n                state: {\n                    init(_, { doc }) {\n                        return findTags(doc);\n                    },\n                    apply(tr, oldState) {\n                        return tr.docChanged ? findTags(tr.doc) : oldState;\n                    },\n                },\n                props: {\n                    decorations(state) {\n                        return this.getState(state);\n                    },\n                },\n            }),\n        ];\n    },\n});\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,+BAA+B;AAC/B,SAAS,SAAS,GAAG;IACjB,MAAM,cAAc,EAAE;IACtB,IAAI,WAAW,CAAC,CAAC,MAAM;QACnB,IAAI,KAAK,MAAM,EAAE;YACb,MAAM,OAAO,KAAK,IAAI;YACtB,uBAAuB;YACvB,MAAM,QAAQ;YACd,IAAI;YACJ,MAAO,CAAC,QAAQ,MAAM,IAAI,CAAC,KAAK,MAAM,KAAM;gBACxC,8BAA8B;gBAC9B,wCAAwC;gBACxC,uCAAuC;gBACvC,MAAM,YAAY,KAAK,CAAC,EAAE;gBAC1B,MAAM,aAAa,MAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC;gBAClD,MAAM,OAAO,MAAM;gBACnB,MAAM,KAAK,OAAO,UAAU,MAAM;gBAElC,MAAM,UAAU,UAAU,SAAS,CAAC,IAAI,WAAW;gBACnD,MAAM,aAAa,IAAA,sIAAW,EAAC;gBAE/B,YAAY,IAAI,CACZ,qKAAU,CAAC,MAAM,CAAC,MAAM,IAAI;oBACxB,OAAO,CAAC,uBAAuB,EAAE,YAAY;gBACjD;YAER;QACJ;IACJ;IACA,OAAO,wKAAa,CAAC,MAAM,CAAC,KAAK;AACrC;AAEO,MAAM,eAAe,iKAAS,CAAC,MAAM,CAAC;IACzC,MAAM;IAEN;QACI,OAAO;YACH,IAAI,kKAAM,CAAC;gBACP,OAAO;oBACH,MAAK,CAAC,EAAE,EAAE,GAAG,EAAE;wBACX,OAAO,SAAS;oBACpB;oBACA,OAAM,EAAE,EAAE,QAAQ;wBACd,OAAO,GAAG,UAAU,GAAG,SAAS,GAAG,GAAG,IAAI;oBAC9C;gBACJ;gBACA,OAAO;oBACH,aAAY,KAAK;wBACb,OAAO,IAAI,CAAC,QAAQ,CAAC;oBACzB;gBACJ;YACJ;SACH;IACL;AACJ"}},
    {"offset": {"line": 1548, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/TiptapEditor.jsx"],"sourcesContent":["import { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport { TagHighlight } from './extensions/TagHighlight';\nimport { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Button } from './ui/button';\n\nexport const TiptapEditor = forwardRef(({\n    note,\n    onSave,\n    onInput,\n    onFocus,\n    onBlur,\n    autoFocus = false,\n    isLast = false\n}, ref) => {\n    const editor = useEditor({\n        immediatelyRender: false,\n        extensions: [\n            StarterKit,\n            TagHighlight,\n        ],\n        content: note.content,\n        editorProps: {\n            attributes: {\n                class: 'prose prose-sm w-full max-w-none focus:outline-none min-h-[1.5em] text-sm font-mono text-foreground whitespace-pre-wrap leading-relaxed',\n            },\n        },\n        onUpdate: ({ editor }) => {\n            const text = editor.getText();\n            if (onInput) {\n                onInput(note.id, text);\n            }\n        },\n        onBlur: ({ editor, event }) => {\n            const text = editor.getText();\n            if (onSave) {\n                onSave(note.id, text);\n            }\n            if (onBlur) onBlur(event);\n        },\n        onFocus: () => {\n            if (onFocus) onFocus(note);\n        },\n        // We handle content sync manually via useEffect to avoid cursor jumps\n        // if the parent sends back the same content.\n    });\n\n    // Expose focus method to parent\n    useImperativeHandle(ref, () => ({\n        focus: () => {\n            editor?.commands.focus('end');\n        }\n    }));\n\n    // Auto-focus logic\n    useEffect(() => {\n        if (autoFocus && editor) {\n            // Small delay to ensure editor is ready\n            requestAnimationFrame(() => {\n                editor?.commands.focus('end');\n            });\n        }\n    }, [autoFocus, editor]);\n\n    // Handle Delete button logic (replicated from EntryBlock)\n    const clearContent = () => {\n        if (editor) {\n            editor.commands.clearContent();\n            editor.commands.blur(); // Trigger save -> delete\n        }\n    };\n\n    if (!editor) {\n        return null;\n    }\n\n    return (\n        <div id={note.id} className=\"group relative w-full max-w-3xl mx-auto py-4\">\n            <EditorContent editor={editor} />\n\n            {/* Hover Controls */}\n            <div className=\"absolute -right-12 top-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-muted-foreground hover:text-destructive\"\n                    onClick={clearContent}\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-4 h-4\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\" />\n                    </svg>\n                </Button>\n            </div>\n        </div>\n    );\n});\n\nTiptapEditor.displayName = 'TiptapEditor';\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEO,MAAM,6BAAe,GAAA,IAAA,2KAAU,UAAC,CAAC,EACpC,IAAI,EACJ,MAAM,EACN,OAAO,EACP,OAAO,EACP,MAAM,EACN,YAAY,KAAK,EACjB,SAAS,KAAK,EACjB,EAAE;;IACC,MAAM,SAAS,IAAA,kLAAS,EAAC;QACrB,mBAAmB;QACnB,YAAY;YACR,yKAAU;YACV,kKAAY;SACf;QACD,SAAS,KAAK,OAAO;QACrB,aAAa;YACT,YAAY;gBACR,OAAO;YACX;QACJ;QACA,QAAQ;8CAAE,CAAC,EAAE,MAAM,EAAE;gBACjB,MAAM,OAAO,OAAO,OAAO;gBAC3B,IAAI,SAAS;oBACT,QAAQ,KAAK,EAAE,EAAE;gBACrB;YACJ;;QACA,MAAM;8CAAE,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE;gBACtB,MAAM,OAAO,OAAO,OAAO;gBAC3B,IAAI,QAAQ;oBACR,OAAO,KAAK,EAAE,EAAE;gBACpB;gBACA,IAAI,QAAQ,OAAO;YACvB;;QACA,OAAO;8CAAE;gBACL,IAAI,SAAS,QAAQ;YACzB;;IAGJ;IAEA,gCAAgC;IAChC,IAAA,oLAAmB,EAAC;4CAAK,IAAM,CAAC;gBAC5B,KAAK;wDAAE;wBACH,QAAQ,SAAS,MAAM;oBAC3B;;YACJ,CAAC;;IAED,mBAAmB;IACnB,IAAA,0KAAS;kCAAC;YACN,IAAI,aAAa,QAAQ;gBACrB,wCAAwC;gBACxC;8CAAsB;wBAClB,QAAQ,SAAS,MAAM;oBAC3B;;YACJ;QACJ;iCAAG;QAAC;QAAW;KAAO;IAEtB,0DAA0D;IAC1D,MAAM,eAAe;QACjB,IAAI,QAAQ;YACR,OAAO,QAAQ,CAAC,YAAY;YAC5B,OAAO,QAAQ,CAAC,IAAI,IAAI,yBAAyB;QACrD;IACJ;IAEA,IAAI,CAAC,QAAQ;QACT,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,IAAI,KAAK,EAAE;QAAE,WAAU;;0BACxB,6LAAC,sLAAa;gBAAC,QAAQ;;;;;;0BAGvB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,+IAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS;8BAET,cAAA,6LAAC;wBAAI,OAAM;wBAA6B,MAAK;wBAAO,SAAQ;wBAAY,aAAa;wBAAK,QAAO;wBAAe,WAAU;kCACtH,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM7E;;QAhFmB,kLAAS;;;;QAAT,kLAAS;;;;AAkF5B,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 1714, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/NotebookFeed.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { TiptapEditor } from './TiptapEditor';\nimport { cn } from '../lib/utils';\n\nexport const NotebookFeed = ({\n    notes,\n    onUpdateNote,\n    onCreateNote,\n    onDeleteNote,\n    onFocusBox,\n    onEditorFocus, // [NEW]\n    onEditorBlur   // [NEW]\n}) => {\n    const feedRef = useRef(null);\n    const bottomRef = useRef(null);\n    const lastNoteRef = useRef(null);\n\n    // Sort notes: Oldest -> Newest for \"Notebook\" feel\n    const sortedNotes = React.useMemo(() => {\n        return [...notes].sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n    }, [notes]);\n\n    // Intersection Observer to track scroll position\n    const intersectingNotesRef = useRef(new Set());\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                // Update the set of candidates\n                entries.forEach((entry) => {\n                    if (entry.isIntersecting) {\n                        intersectingNotesRef.current.add(entry.target);\n                    } else {\n                        intersectingNotesRef.current.delete(entry.target);\n                    }\n                });\n\n                // Find the winner\n                let bestCandidate = null;\n                let minDistance = Infinity;\n                const viewportCenter = window.innerHeight / 2;\n\n                intersectingNotesRef.current.forEach((node) => {\n                    const rect = node.getBoundingClientRect();\n                    const nodeCenter = rect.top + (rect.height / 2);\n                    const dist = Math.abs(viewportCenter - nodeCenter);\n\n                    if (dist < minDistance) {\n                        minDistance = dist;\n                        bestCandidate = node;\n                    }\n                });\n\n                if (bestCandidate) {\n                    const noteId = bestCandidate.getAttribute('data-note-id');\n                    const note = notes.find(n => n.id == noteId);\n                    if (note) {\n                        onFocusBox(note);\n                    }\n                }\n            },\n            {\n                root: null,\n                threshold: 0,\n                rootMargin: \"-35% 0px -35% 0px\" // 30% Active Zone\n            }\n        );\n\n        const noteElements = document.querySelectorAll('.entry-block');\n        noteElements.forEach(el => observer.observe(el));\n\n        return () => observer.disconnect();\n    }, [notes, onFocusBox, sortedNotes]);\n\n    return (\n        <div className=\"flex-1 h-full overflow-y-auto bg-background scroll-smooth\" ref={feedRef}>\n            {/* Adjusted padding: px-4 for mobile, sm:px-8 for tablet/desktop */}\n            <div className=\"min-h-full w-full max-w-4xl mx-auto px-4 py-12 sm:px-8 sm:pl-32 sm:pr-32\">\n                <div className=\"flex flex-col gap-12\">\n                    {sortedNotes.map((note, index) => {\n                        const isLast = index === sortedNotes.length - 1;\n                        return (\n                            <div key={note.id} className=\"entry-block\" data-note-id={note.id}>\n                                <TiptapEditor\n                                    ref={isLast ? lastNoteRef : null}\n                                    note={note}\n                                    onSave={(id, content) => {\n                                        if (!content || !content.trim()) {\n                                            onDeleteNote(note.id);\n                                        } else {\n                                            onUpdateNote(note, content);\n                                        }\n                                    }}\n                                    onInput={(id, content) => {\n                                        // Optional: live update state?\n                                    }}\n                                    onFocus={() => {\n                                        if (onEditorFocus) onEditorFocus();\n                                    }}\n                                    onBlur={(e) => {\n                                        if (onEditorBlur) onEditorBlur();\n\n                                        // \"Always Active\" Logic\n                                        setTimeout(() => {\n                                            const active = document.activeElement;\n                                            const isEditor = active && (\n                                                active.classList.contains('ProseMirror') ||\n                                                active.closest('.ProseMirror')\n                                            );\n\n                                            if (!isEditor) {\n                                                const lastNote = sortedNotes[sortedNotes.length - 1];\n                                                if (lastNote && !lastNote.content.trim()) {\n                                                    lastNoteRef.current?.focus();\n                                                } else {\n                                                    onCreateNote('');\n                                                }\n                                            }\n                                        }, 100);\n                                    }}\n                                    autoFocus={note.isNew}\n                                    isLast={isLast}\n                                />\n                            </div>\n                        );\n                    })}\n                </div>\n\n                <div\n                    ref={bottomRef}\n                    className=\"h-[50vh] w-full cursor-text\"\n                    onClick={() => {\n                        const lastNote = sortedNotes[sortedNotes.length - 1];\n                        if (lastNote && !lastNote.content.trim()) {\n                            lastNoteRef.current?.focus();\n                        } else {\n                            onCreateNote('');\n                        }\n                    }}\n                />\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1906, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/lib/db.js"],"sourcesContent":["import { openDB } from 'idb';\nimport { supabase } from './supabase';\n\n// Initialize IndexedDB\nexport async function initDB(userId) {\n  const db = await openDB('notes-app', 1, {\n    upgrade(db) {\n      const store = db.createObjectStore('notes', {\n        keyPath: 'id',\n      });\n      store.createIndex('userId', 'userId');\n      store.createIndex('syncStatus', 'syncStatus');\n    },\n  });\n  return db;\n}\n\n// Save note to both IndexedDB and Supabase\nexport async function saveNote(db, userId, note) {\n  try {\n    // First save to Supabase\n    const { data, error } = await supabase\n      .from('notes')\n      .insert([{\n        content: note.content,\n        user_id: userId,\n        created_at: (note.createdAt || new Date()).toISOString(),\n        updated_at: (note.updatedAt || new Date()).toISOString()\n      }])\n      .select()\n      .single();\n\n    if (error) {\n      const tempId = note.id || crypto.randomUUID();\n      const newNote = {\n        ...note,\n        id: tempId,\n        userId,\n        syncStatus: 'pending',\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      const tx = db.transaction('notes', 'readwrite');\n      await tx.store.put(newNote);\n      await tx.done;\n      return tempId;\n    }\n\n    // Then save to IndexedDB\n    const newNote = {\n      ...note,\n      id: data.id,\n      userId,\n      syncStatus: 'synced',\n      createdAt: new Date(data.created_at),\n      updatedAt: new Date(data.updated_at)\n    };\n    const tx = db.transaction('notes', 'readwrite');\n    await tx.store.put(newNote);\n    await tx.done;\n\n    return data.id;\n  } catch (error) {\n    console.error('Error saving note:', error);\n    throw error;\n  }\n}\n\n// Helper function to check if user has any notes\nasync function hasExistingNotes(db, userId) {\n  try {\n    // Check Supabase for existing notes\n    const { data, error } = await supabase\n      .from('notes')\n      .select('id')\n      .eq('user_id', userId)\n      .limit(1);\n\n    if (error) throw error;\n    return data && data.length > 0;\n  } catch (error) {\n    console.error('Error checking existing notes:', error);\n    return false;\n  }\n}\n\n// Get notes from Supabase and sync with IndexedDB\nexport async function getNotes(db, userId) {\n  let hasNotes = false;\n  try {\n    hasNotes = await hasExistingNotes(db, userId);\n\n    const { data: supabaseNotes, error } = await supabase\n      .from('notes')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n\n    if (error) throw error;\n\n    if (!hasNotes && (!supabaseNotes || supabaseNotes.length === 0)) {\n      return [];\n    }\n\n    return supabaseNotes.map(note => ({\n      id: note.id,\n      content: note.content,\n      userId: note.user_id,\n      syncStatus: 'synced',\n      tags: note.tags || [],\n      createdAt: new Date(note.created_at),\n      updatedAt: new Date(note.updated_at)\n    }));\n  } catch (error) {\n    console.error('Error fetching notes:', error);\n    return hasNotes ? [] : null;\n  }\n}\n\n// Delete note from both Supabase and IndexedDB\nexport async function deleteNote(db, userId, noteId) {\n  try {\n    // Delete from Supabase\n    const { data, error } = await supabase\n      .from('notes')\n      .select()\n      .eq('id', noteId)\n      .eq('user_id', userId)\n      .single();\n\n    if (error) {\n      throw new Error('Note not found or unauthorized');\n    }\n\n    // Delete from Supabase\n    const { error: deleteError } = await supabase\n      .from('notes')\n      .delete()\n      .eq('id', noteId)\n      .eq('user_id', userId);\n\n    if (deleteError) throw deleteError;\n\n    // Delete from IndexedDB if it exists\n    const note = await db.get('notes', noteId);\n    if (note) {\n      await db.delete('notes', noteId);\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting note:', error);\n    throw error;\n  }\n}\n\n// Update note in both Supabase and IndexedDB\nexport async function updateNote(db, userId, note) {\n  console.log('updateNote called with:', { userId, note });\n  try {\n    // First check if note exists in Supabase\n    const { data: existingNote, error: checkError } = await supabase\n      .from('notes')\n      .select()\n      .eq('id', note.id)\n      .eq('user_id', userId)\n      .single();\n\n    console.log('Existing note check:', { existingNote, checkError });\n    if (checkError) {\n      throw new Error('Note not found or unauthorized');\n    }\n\n    // Update in Supabase\n    const { data: updatedNote, error: updateError } = await supabase\n      .from('notes')\n      .update({\n        content: note.content,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', note.id)\n      .eq('user_id', userId)\n      .select()\n      .single();\n\n    console.log('Update result:', { updatedNote, updateError });\n    if (updateError) throw updateError;\n\n    // Update in IndexedDB\n    const tx = db.transaction('notes', 'readwrite');\n    const updatedNoteForDB = {\n      id: updatedNote.id,\n      content: updatedNote.content,\n      userId: existingNote.user_id,\n      syncStatus: 'synced',\n      createdAt: new Date(existingNote.created_at),\n      updatedAt: new Date(updatedNote.updated_at)\n    };\n    console.log('Updating IndexedDB with:', updatedNoteForDB);\n    await tx.store.put(updatedNoteForDB);\n    await tx.done;\n\n    // Return the updated note so UI can be updated\n    return updatedNoteForDB;\n  } catch (error) {\n    console.error('Error updating note:', error);\n    throw error;\n  }\n}\n\n// Sync pending notes to Supabase\nexport async function syncPendingNotes(db, userId) {\n  try {\n    const tx = db.transaction('notes', 'readwrite');\n    const pendingNotes = await tx.store.index('syncStatus').getAll('pending');\n\n    if (pendingNotes.length === 0) return;\n\n    await Promise.all(pendingNotes.map(async (note) => {\n      try {\n        // Try to update first\n        const { error: updateError } = await supabase\n          .from('notes')\n          .update({\n            content: note.content,\n            updated_at: new Date().toISOString()\n          })\n          .eq('id', note.id)\n          .eq('user_id', userId);\n\n        if (!updateError) {\n          await tx.store.put({\n            ...note,\n            syncStatus: 'synced'\n          });\n          return;\n        }\n\n        // If update fails, try to insert\n        const { data, error } = await supabase\n          .from('notes')\n          .insert([{\n            content: note.content,\n            user_id: userId,\n            created_at: note.createdAt.toISOString(),\n            updated_at: new Date().toISOString()\n          }])\n          .select()\n          .single();\n\n        if (error) throw error;\n\n        await tx.store.put({\n          ...note,\n          id: data.id,\n          syncStatus: 'synced'\n        });\n      } catch (error) {\n        console.error('Error syncing note:', error);\n      }\n    }));\n\n    await tx.done;\n  } catch (error) {\n    console.error('Error in syncPendingNotes:', error);\n  }\n}\n\n// Default notes for new users\nconst getDefaultNotes = () => [\n  {\n    content: \"Welcome to Notes!  This is a sample note to help you get started. #welcome #notes\",\n    createdAt: new Date(),\n    updatedAt: new Date()\n  },\n  {\n    content: \"You can add tags to your notes using hashtags like this: #tips\",\n    createdAt: new Date(),\n    updatedAt: new Date()\n  },\n  {\n    content: \"Click on any tag to filter notes. Try clicking on #welcome or #tips to see how it works!\",\n    createdAt: new Date(),\n    updatedAt: new Date()\n  }\n];\n\n// Create default notes for new users\nexport async function createDefaultNotes(db, userId) {\n  try {\n    // Double-check that user doesn't have notes\n    const hasNotes = await hasExistingNotes(db, userId);\n    if (hasNotes) {\n      return true;\n    }\n\n    const defaultNotes = getDefaultNotes();\n\n    // Clear any existing data\n    await clearExistingNotes(db, userId);\n\n    // Create notes in Supabase first\n    const { data, error: insertError } = await supabase\n      .from('notes')\n      .insert(defaultNotes.map(note => ({\n        content: note.content,\n        user_id: userId,\n        created_at: note.createdAt.toISOString(),\n        updated_at: note.updatedAt.toISOString()\n      })))\n      .select();\n\n    if (insertError) throw insertError;\n\n    // Then save to IndexedDB in a single transaction\n    const tx = db.transaction('notes', 'readwrite');\n    await Promise.all(data.map(note => \n      tx.store.put({\n        id: note.id,\n        content: note.content,\n        userId: note.user_id,\n        syncStatus: 'synced',\n        createdAt: new Date(note.created_at),\n        updatedAt: new Date(note.updated_at)\n      })\n    ));\n    await tx.done;\n\n    return true;\n  } catch (error) {\n    console.error('Error creating default notes:', error);\n    throw error;\n  }\n}\n\n// Helper function to clear existing notes\nasync function clearExistingNotes(db, userId) {\n  // Clear IndexedDB\n  const tx = db.transaction('notes', 'readwrite');\n  await tx.store.index('userId').openCursor(userId).then(function deleteNote(cursor) {\n    if (!cursor) return;\n    cursor.delete();\n    return cursor.continue().then(deleteNote);\n  });\n  await tx.done;\n\n  await supabase\n    .from('notes')\n    .delete()\n    .eq('user_id', userId);\n}\n\n// Delete account and all associated data\nexport async function deleteAccount(db, userId) {\n  try {\n    // Delete all notes from Supabase\n    const { error: notesError } = await supabase\n      .from('notes')\n      .delete()\n      .eq('user_id', userId);\n\n    if (notesError) throw notesError;\n\n    // Delete user's own account using the user API\n    const { error: userError } = await supabase.rpc('delete_user');\n\n    if (userError) throw userError;\n\n    // Clear IndexedDB\n    const tx = db.transaction('notes', 'readwrite');\n    await tx.store.index('userId').openCursor(userId).then(function deleteNote(cursor) {\n      if (!cursor) return;\n      cursor.delete();\n      return cursor.continue().then(deleteNote);\n    });\n    await tx.done;\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting account:', error);\n    throw error;\n  }\n}\n\n// Add batch operations for better performance\nexport async function batchSaveNotes(db, userId, notes) {\n  const tx = db.transaction('notes', 'readwrite');\n  await Promise.all(notes.map(note => tx.store.put(note)));\n  await tx.done;\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 2231, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/hooks/useNotes.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { initDB, getNotes, saveNote, updateNote, deleteNote, syncPendingNotes, createDefaultNotes } from '../lib/db';\n\nexport function useNotes(user) {\n  const [notes, setNotes] = useState([]);\n  const [db, setDb] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Initialize DB and Fetch Notes\n  useEffect(() => {\n    const initializeApp = async () => {\n      if (!user) return;\n\n      try {\n        setIsLoading(true);\n        const dbInstance = await initDB(user.id);\n        setDb(dbInstance);\n\n        const fetchedNotes = await getNotes(dbInstance, user.id);\n\n        // Handle default notes creation if empty\n        if (Array.isArray(fetchedNotes) && fetchedNotes.length === 0) {\n          const created = await createDefaultNotes(dbInstance, user.id);\n          if (created) {\n            const initialNotes = await getNotes(dbInstance, user.id);\n            setNotes(initialNotes);\n          } else {\n            setNotes([]);\n          }\n        } else {\n          setNotes(fetchedNotes || []);\n        }\n\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error initializing app:', error);\n        setIsLoading(false);\n        setNotes([]);\n      }\n    };\n\n    initializeApp();\n  }, [user]);\n\n  // Sync Listener\n  useEffect(() => {\n    const handleOnline = () => {\n      if (db && user) {\n        syncPendingNotes(db, user.id);\n      }\n    };\n\n    window.addEventListener('online', handleOnline);\n    return () => window.removeEventListener('online', handleOnline);\n  }, [db, user]);\n\n  const addNote = async (content) => {\n    try {\n      if (!db || !user) throw new Error(\"Database or user not initialized\");\n\n      const noteId = await saveNote(db, user.id, {\n        content,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n\n      const newNote = {\n        id: noteId,\n        content,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n\n      setNotes(prev => [newNote, ...prev]);\n      return newNote;\n    } catch (error) {\n      console.error('Error adding note:', error);\n      throw error;\n    }\n  };\n\n  const editNote = async (originalNote, newContent) => {\n    try {\n      if (!db || !user) throw new Error(\"Database or user not initialized\");\n\n      const updatedNote = {\n        ...originalNote,\n        content: newContent,\n        updatedAt: new Date()\n      };\n\n      const result = await updateNote(db, user.id, updatedNote);\n      setNotes(prev => prev.map(n => n.id === originalNote.id ? result : n));\n      return result;\n    } catch (error) {\n      console.error('Error updating note:', error);\n      throw error;\n    }\n  };\n\n  const removeNote = useCallback(async (noteId) => {\n    if (!db || !user) return;\n\n    try {\n      setIsLoading(true); // Optional: global loading state for delete? Maybe not.\n      // Actually locally locally loading might be better, but 'isLoading' is usually for initial load.\n      // I'll skip setting isLoading for delete to avoid UI flickering entire screen.\n      await deleteNote(db, user.id, noteId);\n      setNotes(prev => prev.filter(n => n.id !== noteId));\n    } catch (error) {\n      console.error('Error deleting note:', error);\n      throw error;\n    }\n  }, [db, user]);\n\n  return {\n    notes,\n    isLoading,\n    db,\n    addNote,\n    editNote,\n    removeNote\n  };\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2379, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/hooks/useTags.js"],"sourcesContent":["import { useMemo } from 'react';\n\nexport function useTags(notes) {\n  // Extract all unique tags\n  const allTags = useMemo(() => {\n    const tags = new Set();\n    notes.forEach(note => {\n      const matches = note.content.match(/#(\\w+)/g);\n      if (matches) {\n        matches.forEach(tag => tags.add(tag.slice(1)));\n      }\n    });\n    return Array.from(tags).sort();\n  }, [notes]);\n\n  const getSuggestions = (partialTag) => {\n    if (!partialTag) return [];\n\n    // exact match check? No, startsWith.\n    const term = partialTag.toLowerCase();\n\n    // Logic from NoteApp:\n    // .filter(tag => tag.toLowerCase().startsWith(partialTag)).slice(0, 5);\n\n    return allTags\n      .filter(tag => tag.toLowerCase().startsWith(term))\n      .slice(0, 5);\n  };\n\n  return {\n    allTags,\n    getSuggestions\n  };\n}"],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS,QAAQ,KAAK;;IAC3B,0BAA0B;IAC1B,MAAM,UAAU,IAAA,wKAAO;oCAAC;YACtB,MAAM,OAAO,IAAI;YACjB,MAAM,OAAO;4CAAC,CAAA;oBACZ,MAAM,UAAU,KAAK,OAAO,CAAC,KAAK,CAAC;oBACnC,IAAI,SAAS;wBACX,QAAQ,OAAO;wDAAC,CAAA,MAAO,KAAK,GAAG,CAAC,IAAI,KAAK,CAAC;;oBAC5C;gBACF;;YACA,OAAO,MAAM,IAAI,CAAC,MAAM,IAAI;QAC9B;mCAAG;QAAC;KAAM;IAEV,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,YAAY,OAAO,EAAE;QAE1B,qCAAqC;QACrC,MAAM,OAAO,WAAW,WAAW;QAEnC,sBAAsB;QACtB,wEAAwE;QAExE,OAAO,QACJ,MAAM,CAAC,CAAA,MAAO,IAAI,WAAW,GAAG,UAAU,CAAC,OAC3C,KAAK,CAAC,GAAG;IACd;IAEA,OAAO;QACL;QACA;IACF;AACF;GA/BgB"}},
    {"offset": {"line": 2431, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/assets/logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 206, height: 40, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,0IAAG;IAAE,OAAO;IAAK,QAAQ;IAAI,WAAW;IAAG,YAAY;AAAC"}},
    {"offset": {"line": 2451, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/NoteApp.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport debounce from 'lodash.debounce';\n\n// Components\nimport { TimelineRail } from './TimelineRail';\nimport { TagsRail } from './TagsRail';\nimport { TagNavigator } from './TagNavigator';\nimport { MobileNavPill } from './MobileNavPill';\nimport { MobileDrawers } from './MobileDrawers';\nimport { NotebookFeed } from './NotebookFeed';\nimport { UserDropdown } from './ui/UserDropdown';\nimport { Button } from \"./ui/button\";\nimport { useTheme } from \"./ThemeProvider\";\nimport { MoonIcon, SunIcon } from '@heroicons/react/24/outline';\n\n// Hooks\nimport { useNotes } from '../hooks/useNotes';\nimport { useTags } from '../hooks/useTags';\n\n// Lib\nimport { deleteAccount } from '../lib/db';\nimport { supabase } from '../lib/supabase';\nimport logo from '../assets/logo.svg';\n\nconst NoteApp = ({ user }) => {\n  const { theme, setTheme } = useTheme();\n\n  // Custom Hooks\n  const { notes, isLoading, db, addNote, editNote, removeNote } = useNotes(user);\n  const { allTags, getSuggestions } = useTags(notes);\n\n  // We mostly rely on NotebookFeed's internal state + useNotes now.\n  // But we need to track active note for TimelineRail highlight.\n  const [activeNoteId, setActiveNoteId] = useState(null);\n\n  // Tag Navigation State\n  const [tagNav, setTagNav] = useState({\n    tag: null,\n    matches: [],\n    currentIndex: 0\n  });\n\n  // Mobile Drawer State\n  const [mobileDrawer, setMobileDrawer] = useState({\n    isOpen: false,\n    type: null // 'date' | 'tags'\n  });\n\n  // Track editor focus to hide generic floating UI on mobile\n  const [isEditorFocused, setIsEditorFocused] = useState(false);\n\n  // Initialize active note to the last one (newest) on load\n  useEffect(() => {\n    if (notes.length > 0 && !activeNoteId) {\n      // Sort similar to Feed to ensure we pick the visual \"last\" one\n      const sorted = [...notes].sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n      setActiveNoteId(sorted[sorted.length - 1].id);\n    }\n  }, [notes]);\n\n  const handleSignOut = async () => {\n    try {\n      if (db) {\n        const tx = db.transaction('notes', 'readwrite');\n        const store = tx.objectStore('notes');\n        await store.clear();\n        await tx.done;\n      }\n\n      if (user.isGuest) {\n        localStorage.removeItem('guestUser');\n      } else {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n        await supabase.auth.clearSession();\n      }\n\n      localStorage.removeItem(`defaultNotes-${user.id}`);\n      localStorage.removeItem('sb-yzgyhdrughpwaqgcgqeu-auth-token');\n\n    } catch (error) {\n      console.error('Error signing out:', error);\n    } finally {\n      if (typeof window !== 'undefined') {\n        window.sessionStorage.clear();\n        window.localStorage.clear();\n      }\n      window.location.href = '/';\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    try {\n      await deleteAccount(db, user.id);\n      window.location.replace('/');\n    } catch (error) {\n      console.error('Error deleting account:', error);\n      alert('Failed to delete account. Please try again.');\n    }\n  };\n\n  const handleTagClick = useCallback((tag) => {\n    // 1. Find all notes with this tag\n    const regex = new RegExp(`#${tag}\\\\b`, 'i');\n    const matches = notes\n      .filter(n => regex.test(n.content))\n      .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))\n      .map(n => n.id);\n\n    if (matches.length === 0) return;\n\n    // 2. Set State (Only if > 1 match)\n    if (matches.length > 1) {\n      setTagNav({\n        tag,\n        matches,\n        currentIndex: 0\n      });\n    } else {\n      // Clear nav if we were open on another tag\n      setTagNav({ tag: null, matches: [], currentIndex: 0 });\n    }\n\n    // 3. Scroll to first\n    const element = document.getElementById(matches[0]);\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      setActiveNoteId(matches[0]);\n    }\n  }, [notes]);\n\n  const handleNavNext = () => {\n    if (!tagNav.tag || tagNav.matches.length === 0) return;\n\n    const nextIndex = (tagNav.currentIndex + 1) % tagNav.matches.length;\n\n    setTagNav(prev => ({ ...prev, currentIndex: nextIndex }));\n\n    const id = tagNav.matches[nextIndex];\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      setActiveNoteId(id);\n    }\n  };\n\n  const handleNavPrev = () => {\n    if (!tagNav.tag || tagNav.matches.length === 0) return;\n\n    // Wrap around correctly\n    const prevIndex = (tagNav.currentIndex - 1 + tagNav.matches.length) % tagNav.matches.length;\n\n    setTagNav(prev => ({ ...prev, currentIndex: prevIndex }));\n\n    const id = tagNav.matches[prevIndex];\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      setActiveNoteId(id);\n    }\n  };\n\n  const handleNavClose = () => {\n    setTagNav({ tag: null, matches: [], currentIndex: 0 });\n  };\n\n\n  // Mobile Navigation Handlers\n  const handleMobileDateClick = () => {\n    setMobileDrawer({ isOpen: true, type: 'date' });\n  };\n\n  const handleMobileTagsClick = () => {\n    setMobileDrawer({ isOpen: true, type: 'tags' });\n  };\n\n  const closeMobileDrawer = () => {\n    setMobileDrawer({ isOpen: false, type: null });\n  };\n\n  const handleMobileDateSelect = (date) => {\n    // Find first note for this date\n    const target = notes.find(n => {\n      const d = new Date(n.createdAt);\n      return d.getFullYear() === date.getFullYear() &&\n        d.getMonth() === date.getMonth() &&\n        d.getDate() === date.getDate();\n    });\n\n    if (target) {\n      const el = document.getElementById(target.id);\n      if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      setActiveNoteId(target.id);\n    }\n    closeMobileDrawer();\n  };\n\n  const handleMobileTagSelect = (tag) => {\n    handleTagClick(tag);\n    closeMobileDrawer();\n  };\n\n  return (\n    <div className=\"h-screen bg-background overflow-hidden flex flex-col\">\n      {/* Logo: Top Left */}\n      <div className=\"fixed top-8 left-8 z-50 pointer-events-none select-none\">\n        <img\n          src={logo.src}\n          alt=\"Notes\"\n          className=\"w-24 h-5 [filter:invert(0)_sepia(0)_saturate(1)_hue-rotate(0deg)_brightness(0.96)] dark:[filter:invert(1)_sepia(0)_saturate(1)_hue-rotate(0deg)_brightness(1)] text-accent-foreground opacity-80\"\n        />\n      </div>\n\n      {/* Bottom Left Stack: Toggle above Avatar - HIDDEN ON MOBILE because Avatar is in Pill */}\n      <div className=\"fixed bottom-8 left-8 z-50 hidden sm:flex flex-col items-center gap-6\">\n        {/* Theme Toggle */}\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"rounded-full shadow-sm bg-background/50 hover:bg-background border\"\n          onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n        >\n          {theme === \"light\" ? <MoonIcon className=\"h-4 w-4\" /> : <SunIcon className=\"h-4 w-4\" />}\n        </Button>\n\n        {/* User Avatar */}\n        <UserDropdown\n          user={user}\n          onSignOut={handleSignOut}\n          onDeleteAccount={handleDeleteAccount}\n        />\n      </div>\n\n      {/* Main Content Area - Notebook Layout */}\n      <div className=\"flex-1 flex overflow-hidden relative\">\n        <TimelineRail\n          notes={notes}\n          activeNoteId={activeNoteId}\n          tags={allTags}\n          onTagClick={handleTagClick}\n        />\n\n        <TagsRail\n          notes={notes}\n          activeNoteId={activeNoteId}\n          tags={allTags}\n          onTagClick={handleTagClick}\n        />\n\n        <NotebookFeed\n          notes={notes}\n          onUpdateNote={(note, content) => editNote(note, content)}\n          onCreateNote={(content) => addNote(content)}\n          onDeleteNote={(id) => removeNote(id)}\n          onFocusBox={(note) => {\n            if (note) {\n              setActiveNoteId(note.id);\n            }\n          }}\n          // Pass focus handlers to track keyboard state\n          onEditorFocus={() => setIsEditorFocused(true)}\n          onEditorBlur={() => setIsEditorFocused(false)}\n        />\n\n        <TagNavigator\n          tag={tagNav.tag}\n          currentIndex={tagNav.currentIndex}\n          totalMatches={tagNav.matches.length}\n          onNext={handleNavNext}\n          onPrev={handleNavPrev}\n          onClose={handleNavClose}\n        />\n\n        <MobileNavPill\n          notes={notes}\n          activeNoteId={activeNoteId}\n          user={user}\n          onSignOut={handleSignOut}\n          onDeleteAccount={handleDeleteAccount}\n          isVisible={!isEditorFocused && !mobileDrawer.isOpen}\n          onDateClick={handleMobileDateClick}\n          onTagsClick={handleMobileTagsClick}\n        />\n\n        <MobileDrawers\n          isOpen={mobileDrawer.isOpen}\n          type={mobileDrawer.type}\n          notes={notes}\n          activeNoteId={activeNoteId}\n          tags={allTags}\n          onClose={closeMobileDrawer}\n          onSelectDate={handleMobileDateSelect}\n          onSelectTag={handleMobileTagSelect}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default NoteApp;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2864, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nexport { Card } "],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtD,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yDAAyD;QACtE,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG"}},
    {"offset": {"line": 2896, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/components/Auth.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\nimport { supabase } from '../lib/supabase';\nimport { Button } from './ui/button';\nimport { Card } from './ui/card';\nimport logo from '../assets/logo.svg';\n\nexport function Auth() {\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const handleEmailSignIn = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    \n    try {\n      const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          emailRedirectTo: window.location.origin,\n        },\n      });\n      \n      if (error) throw error;\n      \n      setMessage('Check your email for the login link!');\n    } catch (error) {\n      setMessage(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      {/* Header Logo */}\n      <div className=\"p-6\">\n        <div className=\"flex items-center gap-2\">\n          <img \n            src={logo} \n            alt=\"Notes\" \n            className=\"w-24 h-8 dark:invert\"\n          />\n          \n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex items-center justify-center p-6\">\n        <div className=\"w-full max-w-md space-y-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-bold tracking-tight\">\n              Welcome to Notes\n            </h2>\n            <p className=\"mt-2 text-muted-foreground\">\n              Note taking app designed for fast note taking\n            </p>\n          </div>\n\n          <Card className=\"p-6 space-y-4\">\n            <Button \n              variant=\"outline\" \n              className=\"w-full flex items-center justify-center gap-2\"\n              onClick={() => supabase.auth.signInWithOAuth({ provider: 'google' })}\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill=\"#4285F4\"\n                  d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                />\n                <path\n                  fill=\"#34A853\"\n                  d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                />\n                <path\n                  fill=\"#FBBC05\"\n                  d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                />\n                <path\n                  fill=\"#EA4335\"\n                  d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                />\n              </svg>\n              Continue with Google\n            </Button>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <span className=\"w-full border-t\" />\n              </div>\n              <div className=\"relative flex justify-center text-xs uppercase\">\n                <span className=\"bg-background px-2 text-muted-foreground\">\n                  OR\n                </span>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <form onSubmit={handleEmailSignIn} className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium\" htmlFor=\"email\">\n                    Email\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                    placeholder=\"Type your email\"\n                    required\n                  />\n                </div>\n                <Button \n                  type=\"submit\" \n                  className=\"w-full\"\n                  disabled={loading}\n                >\n                  {loading ? 'Sending...' : 'Continue with email'}\n                </Button>\n                {message && (\n                  <p className={`text-sm ${message.includes('error') ? 'text-destructive' : 'text-primary'}`}>\n                    {message}\n                  </p>\n                )}\n              </form>\n\n              \n            </div>\n          </Card>\n\n          <div className=\"text-center text-sm text-muted-foreground\">\n            By clicking \"Continue\" you agree to our{' '}\n            <button onClick={() => window.open('/terms', '_blank')} className=\"underline hover:text-primary\">\n              Terms of Service\n            </button>\n            {' '}and{' '}\n            <button onClick={() => window.open('/privacy', '_blank')} className=\"underline hover:text-primary\">\n              Privacy Policy\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"border-t p-6 flex items-center justify-center bg-muted/40\">\n      <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">Designed and developed</span>\n          <a \n            href=\"https://www.shakeb.in\" \n            target=\"_blank\" \n            rel=\"noopener noreferrer\"\n            className=\"font-medium hover:text-primary transition-colors\"\n          >\n            Shakeb\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 3259, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakeb/Downloads/NoteApp_Migration/src/app/page.js"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport NoteApp from '../components/NoteApp';\nimport { Auth } from '../components/Auth';\nimport { useAuth } from '../contexts/AuthContext';\n\nexport default function Home() {\n  const { user, loading, isGuest } = useAuth();\n\n  if (loading) {\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n  }\n\n  return (user || isGuest) ? <NoteApp user={user} /> : <Auth />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,4IAAO;IAE1C,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAgD;;;;;;IACxE;IAEA,OAAO,AAAC,QAAQ,wBAAW,6LAAC,0IAAO;QAAC,MAAM;;;;;6BAAW,6LAAC,oIAAI;;;;;AAC5D;GARwB;;QACa,4IAAO;;;KADpB"}}]
}